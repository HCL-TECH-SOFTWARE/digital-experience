<!-- Elements added to main will be displayed on all pages -->
<!--March2023-->


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A next-gen documentation site for HCL Digital Experience.">
      
      
      
        <link rel="canonical" href="https://opensource.hcltechsw.com/digital-experience/latest/deployment/manage/container_configuration/deploy_custom_code_in_openShift/">
      
      <link rel="icon" href="../../../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-8.5.10">
    
    
      
        <title>Deploying Custom Code in OpenShift - HCL Digital Experience Help Center</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/style.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      <!--March2023-->
<!--  OneTrust Cookies Consent Notice start  -->
<script type="text/javascript" src="https://cdn.cookielaw.org/consent/99b8d579-c52a-43c9-ab7b-a35e60de7103/OtAutoBlock.js"></script>
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" type="text/javascript" charset="UTF-8" data-domain-script="99b8d579-c52a-43c9-ab7b-a35e60de7103"></script>
<script type="text/javascript"> 
	function OptanonWrapper() { } 
</script>
<!--  OneTrust Cookies Consent Notice end  -->

<!--  Global site tag (gtag.js) - Google Analytics start -->
<script src="https://www.googletagmanager.com/gtag/js?id=G-7LF0XY95M1" class="optanon-category-C0002-C0003-C0004-C0005"></script>
<script type="text/plain" class="optanon-category-C0002-C0003-C0004-C0005">
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-169645537-2');
  gtag('config', 'G-7LF0XY95M1');
</script>
 
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-TNNFCCM');</script>
  <!-- End Google Tag Manager -->
  
<!--  Global site tag (gtag.js) - Google Analytics end -->

    
    
    
  
    <meta name="robots" content="index, follow" />
  
  <meta property="og:image" content="https://opensource.hcltechsw.com/digital-experience/site-thumbnail.png" />

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#deploying-custom-code-in-openshift" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
<div>
   <a href="https://www.hcltechsw.com/"> 
  <img width="150" height="30" src="https://help.hcltechsw.com/assets/images/HCL_Software_Logo_White.svg" alt="HCL Logo" target="_blank"></a>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<div class="dropdown">
  <button class="dropbtn">Resources <i class="fa fa-caret-down"></i></button> 
  <div class="dropdown-content">
  <a href="https://support.hcltechsw.com" target="_blank">Customer Support</a>
  <a href="https://academy.hcltechsw.com" target="_blank">Software Academy</a>
  <a href="https://support.hcltechsw.com/community" target="_blank">Community Forums</a>

</div>
</div>
  
  <!-- Uncomment the following announcement if you need it -->
  <!--
 <div class="md-banner--feedback" style="display:inline">

  <strong>We value your feedback on this site.</strong> Please report any issues you find <a class="announcement__link" href="https://github.com/HCL-TECH-SOFTWARE/digital-experience/issues">via Github</a>. 
  
  <div class="md-banner--feedback">Looking for v8.5 or v9.0? <a class="announcement__link"  href="https://help.hcltechsw.com/digital-experience/9.5/welcome_hcl_dx.html">Check the legacy Help Center.</a>
</div>  
</div>
-->

</div>

          </div>
          
        </aside>
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../../../../../latest/deployment/manage/container_configuration/deploy_custom_code_in_openShift/"> 
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="HCL Digital Experience Help Center" class="md-header__button md-logo" aria-label="HCL Digital Experience Help Center" data-md-component="logo">
      
  <img src="../../../../assets/dx_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HCL Digital Experience Help Center
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Deploying Custom Code in OpenShift
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/HCL-TECH-SOFTWARE/digital-experience" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    HCL-TECH-SOFTWARE/digital-experience
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../../get_started/product_overview/" class="md-tabs__link">
        Get Started
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../../whatsnew/cf20/newcf215/" class="md-tabs__link">
        What's New
      </a>
    </li>
  

  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../" class="md-tabs__link md-tabs__link--active">
        Deploy DX
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../build_sites/" class="md-tabs__link">
        Build Sites
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../manage_content/" class="md-tabs__link">
        Manage Content
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../extend_dx/" class="md-tabs__link">
        Extend DX
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../../guide_me/tutorials/" class="md-tabs__link">
        Guide Me
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="HCL Digital Experience Help Center" class="md-nav__button md-logo" aria-label="HCL Digital Experience Help Center" data-md-component="logo">
      
  <img src="../../../../assets/dx_logo.png" alt="logo">

    </a>
    HCL Digital Experience Help Center
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/HCL-TECH-SOFTWARE/digital-experience" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    HCL-TECH-SOFTWARE/digital-experience
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
                  
<li class="md-nav__item">
  <a href="../../../.." class="md-nav__link">
    Home
  </a>
</li>
  
    
      
      
                  
<li class="md-nav__item">
  <a
    href="../../../../get_started/product_overview/"
    class="md-nav__link"
  >
    Get Started
  </a>
</li>
  
    
      
      
                  
<li class="md-nav__item">
  <a
    href="../../../../whatsnew/cf20/newcf215/"
    class="md-nav__link"
  >
    What's New
  </a>
</li>
  
    
      
      
                 
  
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4"
    type="checkbox"
    id="__nav_4"
    checked
  />
                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../">Deploy DX</a>

     
    <label for="__nav_4">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
  <nav
    class="md-nav md-nested-nav"
    aria-label="Deploy DX"
    data-md-level="1"
  >
    <label class="md-nav__title" for="__nav_4">
      <span class="md-nav__icon md-icon"></span>
      Deploy DX
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
       
       
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_2"
    type="checkbox"
    id="__nav_4_2"
    
  />
                       
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../install/">Install</a>

     
    <label for="__nav_4_2">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
               
  
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3"
    type="checkbox"
    id="__nav_4_3"
    checked
  />
                                                                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../">Manage</a>

     
    <label for="__nav_4_3">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
  <nav
    class="md-nav md-nested-nav"
    aria-label="Manage"
    data-md-level="2"
  >
    <label class="md-nav__title" for="__nav_4_3">
      <span class="md-nav__icon md-icon"></span>
      Manage
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
       
       
               
  
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_2"
    type="checkbox"
    id="__nav_4_3_2"
    checked
  />
                                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../">Configure Kubernetes Deployment</a>

     
    <label for="__nav_4_3_2">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
  <nav
    class="md-nav md-nested-nav"
    aria-label="Configure Kubernetes Deployment"
    data-md-level="3"
  >
    <label class="md-nav__title" for="__nav_4_3_2">
      <span class="md-nav__icon md-icon"></span>
      Configure Kubernetes Deployment
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
       
       
                
<li class="md-nav__item">
  <a href="../core_interactions_kubernetes/" class="md-nav__link">
    Core Behavior
  </a>
</li>
    
                
<li class="md-nav__item">
  <a href="../kubernetes_remote_search/" class="md-nav__link">
    Configure Remote Search
  </a>
</li>
    
                
<li class="md-nav__item">
  <a href="../run_core_config_engine/" class="md-nav__link">
    Running DX Core configuration tasks
  </a>
</li>
    
                
<li class="md-nav__item">
  <a href="../container_scaling/" class="md-nav__link">
    Scaling
  </a>
</li>
    
                
<li class="md-nav__item">
  <a href="../container_staging/" class="md-nav__link">
    Container Staging
  </a>
</li>
    
                
<li class="md-nav__item">
  <a href="../deploy_container_artifact_updates/" class="md-nav__link">
    Deploying HCL DX 9.5 Container artifact updates with minimal operations downtime
  </a>
</li>
    
                
<li class="md-nav__item md-nav__item--active">
   
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="toc"
    type="checkbox"
    id="__toc"
  />

       
  <a href="./" class="md-nav__link md-nav__link--active">
    Deploying Custom Code in OpenShift
  </a>

  
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_2_9"
    type="checkbox"
    id="__nav_4_3_2_9"
    
  />
                           

  <div class="md-nav__link md-nav__link--index">
    <a href="../troubleshooting/helm_troubleshooting/"> Troubleshooting </a>
    <label for="__nav_4_3_2_9">
      <span class="md-nav__icon md-icon"></span>
    </label>
  </div>

      
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_2_10"
    type="checkbox"
    id="__nav_4_3_2_10"
    
  />
                           

  <div class="md-nav__link md-nav__link--index">
    <a href="../monitoring/basic_monitor_helm_deployment/"> Monitoring </a>
    <label for="__nav_4_3_2_10">
      <span class="md-nav__icon md-icon"></span>
    </label>
  </div>

      
</li>

   
                
<li class="md-nav__item">
  <a href="../volume_resizing/" class="md-nav__link">
    Increase storage of a PersistentVolumeClaim
  </a>
</li>
    
    </ul>
  </nav>
  
</li>

   
                
<li class="md-nav__item">
  <a href="../../stopstart/" class="md-nav__link">
    Starting and stopping servers, deployment managers, and node agents
  </a>
</li>
    
                
<li class="md-nav__item">
  <a href="../../itlm/" class="md-nav__link">
    Configuring the IBM License Metric Tool
  </a>
</li>
    
                
<li class="md-nav__item">
  <a href="../../config_standalone/" class="md-nav__link">
    Configuring a stand-alone server
  </a>
</li>
    
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_6"
    type="checkbox"
    id="__nav_4_3_6"
    
  />
                             
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../config_cluster/">Setting up a cluster</a>

     
    <label for="__nav_4_3_6">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_7"
    type="checkbox"
    id="__nav_4_3_7"
    
  />
                       
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../portalfarm_cfg/">Setting up and maintaining a portal farm</a>

     
    <label for="__nav_4_3_7">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_8"
    type="checkbox"
    id="__nav_4_3_8"
    
  />
                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../security/">Security</a>

     
    <label for="__nav_4_3_8">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_9"
    type="checkbox"
    id="__nav_4_3_9"
    
  />
                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../tune_servers/">Tune your environment</a>

     
    <label for="__nav_4_3_9">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
                
<li class="md-nav__item">
  <a href="../../port_chg/" class="md-nav__link">
    Changing ports
  </a>
</li>
    
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_11"
    type="checkbox"
    id="__nav_4_3_11"
    
  />
                     
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../siteurl_cfg/">Changing your site URL</a>

     
    <label for="__nav_4_3_11">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_12"
    type="checkbox"
    id="__nav_4_3_12"
    
  />
                                                     
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../config_portal_behavior/">Configuring portal behavior</a>

     
    <label for="__nav_4_3_12">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_13"
    type="checkbox"
    id="__nav_4_3_13"
    
  />
                               
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../portal_admin_tools/">Portal administration tools</a>

     
    <label for="__nav_4_3_13">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_14"
    type="checkbox"
    id="__nav_4_3_14"
    
  />
                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../manage_portal_using_iim/">Managing Interim Fixes for HCL Portal</a>

     
    <label for="__nav_4_3_14">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_15"
    type="checkbox"
    id="__nav_4_3_15"
    
  />
                     
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../config_webservers/">Web server</a>

     
    <label for="__nav_4_3_15">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_16"
    type="checkbox"
    id="__nav_4_3_16"
    
  />
                                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../db_mgmt_sys/">Database Management Systems</a>

     
    <label for="__nav_4_3_16">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_17"
    type="checkbox"
    id="__nav_4_3_17"
    
  />
                                

  <div class="md-nav__link md-nav__link--index">
    <a href="../../profile/iim_modify/"> Profile </a>
    <label for="__nav_4_3_17">
      <span class="md-nav__icon md-icon"></span>
    </label>
  </div>

      
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_18"
    type="checkbox"
    id="__nav_4_3_18"
    
  />
                       
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../cfg_property_files/">Configuration properties</a>

     
    <label for="__nav_4_3_18">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_19"
    type="checkbox"
    id="__nav_4_3_19"
    
  />
                       
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../backup_restore/">Backup and restore</a>

     
    <label for="__nav_4_3_19">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_20"
    type="checkbox"
    id="__nav_4_3_20"
    
  />
                       
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../change_dev_mode_env/">Changing to a developer mode environment</a>

     
    <label for="__nav_4_3_20">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_21"
    type="checkbox"
    id="__nav_4_3_21"
    
  />
                             
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../staging_to_production/">Staging to production</a>

     
    <label for="__nav_4_3_21">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_22"
    type="checkbox"
    id="__nav_4_3_22"
    
  />
                           
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../migrate/">Migrating</a>

     
    <label for="__nav_4_3_22">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_23"
    type="checkbox"
    id="__nav_4_3_23"
    
  />
                       
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../multiple_profiles/">Supporting multiple profiles</a>

     
    <label for="__nav_4_3_23">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_24"
    type="checkbox"
    id="__nav_4_3_24"
    
  />
                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../remote_spell_checker/">Setting up a remote spell checker</a>

     
    <label for="__nav_4_3_24">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_25"
    type="checkbox"
    id="__nav_4_3_25"
    
  />
                 
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../upsell/">Upgrading your existing product offering</a>

     
    <label for="__nav_4_3_25">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_26"
    type="checkbox"
    id="__nav_4_3_26"
    
  />
                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../monitoring/">Monitoring</a>

     
    <label for="__nav_4_3_26">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_27"
    type="checkbox"
    id="__nav_4_3_27"
    
  />
                           
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../troubleshooting/">Troubleshooting</a>

     
    <label for="__nav_4_3_27">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
    </ul>
  </nav>
  
</li>

   
    </ul>
  </nav>
  
</li>

 
    
      
      
                  
<li class="md-nav__item">
  <a href="../../../../build_sites/" class="md-nav__link">
    Build Sites
  </a>
</li>
  
    
      
      
                  
<li class="md-nav__item">
  <a href="../../../../manage_content/" class="md-nav__link">
    Manage Content
  </a>
</li>
  
    
      
      
                  
<li class="md-nav__item">
  <a href="../../../../extend_dx/" class="md-nav__link">
    Extend DX
  </a>
</li>
  
    
      
      
                  
<li class="md-nav__item">
  <a
    href="../../../../guide_me/tutorials/"
    class="md-nav__link"
  >
    Guide Me
  </a>
</li>
  
    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  



  <a href="https://github.com/HCL-TECH-SOFTWARE/digital-experience/edit/main/docs/deployment/manage/container_configuration/deploy_custom_code_in_openShift.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="deploying-custom-code-in-openshift">Deploying Custom Code in OpenShift</h1>
<p>This section outlines deploying custom code to HCL Digital Experience in OpenShift.</p>
<p>The benefits of moving HCL Digital Experience to a containerized and orchestrated environment, as they come with the deployment and customization process changes. As containers are short-lived, changes made during the container's runtime are transient. For this reason, a persisted volume is required to retain the HCL Digital Experience configuration settings. The server's profile directory tree, the default and obligatory mount point for persistence, currently stores this information, for example, /opt/HCL/wp_profile.</p>
<p>The recommended approach for deploying custom applications to HCL Digital Experience running in the OpenShift Container Platform is through an automated Continuous Integration and Continuous Delivery (CI/CD) pipeline connected to a source code repository containing a pipeline script. For our purposes, we use Jenkins and GitHub. A sample Jenkinsfile and BuildConfig.yaml is provided.</p>
<p>In an OpenShift environment, you can deploy a Jenkins instance with either of the following two (2) OpenShift Client commands.</p>
<ul>
<li><code>oc new-app jenkins-ephemeral</code></li>
<li><code>oc new-app jenkins-persistent</code></li>
</ul>
<p>As the commands suggests, the Jenkins instance can be persistent or transient. Persistent requiring a persistent volume.</p>
<ol>
<li>
<p>Configure the Jenkins server tools as needed for your custom code build requirements. Navigate to Manage Jenkins &gt; Global Tool Configuration and add the tools needed to build your application. For our purposes, we configured Ant and JDK 8.</p>
</li>
<li>
<p>Configure the Jenkins server credentials as needed to access your source code repository. Connection through an SSH key for the application repository and OpenShift is recommended.</p>
<p><code>ssh-keygen -C "openshift-source-builder/repo@github" -f repo-at-github -N ''</code></p>
<p>This will generate a public repo-at-github key file and a public repo-at-github.pub key file.</p>
</li>
<li>
<p>Copy the public key contents to your clipboard.</p>
<p><code>clip &lt; ~/.ssh/repo-at-github.pub</code></p>
</li>
<li>
<p>Navigate to your <strong>GitHub repository &gt; Settings &gt; Deploy Keys &gt; Add deploy key</strong>. Provide a title for the key, paste the clipboard contents into the key textbox and click <strong>Add Key</strong>.</p>
</li>
<li>
<p>Copy the private key contents to your clipboard.</p>
<p><code>clip &lt; ~/.ssh/repo-at-github</code></p>
</li>
<li>
<p>Add the private key to the Jenkins server as an OpenShift secret.</p>
<p><code>oc create secret generic repo-at-github --from-file=ssh-privatekey=~/.ssh/repo-at-github</code></p>
</li>
<li>
<p>Link the secret to OpenShift builder.</p>
<p><code>oc secrets link builder repo-at-github</code></p>
</li>
<li>
<p>Create an OpenShift Build Config for building the custom application code stored in GitHub using the provided sample yaml file customized for your environment.</p>
<p><code>oc create -f customized-sample-build-config.yaml</code></p>
<div class="highlight"><pre><span></span><code>kind: BuildConfig
apiVersion: build.openshift.io/v1
metadata:
name: &lt;name of your application pipeline&gt;
namespace: &lt;namespace-in-openshift&gt;
spec:
source:
    git:
    uri: &quot;git@github.com:&lt;my custom code directory&gt;/&lt;my custom repository&gt;.git&quot;
strategy:
    jenkinsPipelineStrategy:
    jenkinsfilePath: jenkinsfile
triggers:
    - type: GitHub
    github:
        secret: &lt;myCustomAppSecret&gt;
</code></pre></div>
</li>
<li>
<p>Link the GitHub repository secret to the OpenShift Build Config.</p>
<p><code>oc set build-secret --source bc/custom-editor-app-pipeline repo-at-github</code></p>
</li>
<li>
<p>To enable OpenShift to compile and deploy the custom application with each source code commit to GitHub, configure a webhook in the GitHub repository for the OpenShift Build Config.</p>
<p>Navigate to your <strong>GitHub repository &gt; Settings &gt; Webhooks &gt; Add webhook</strong>. To find the value of the Webhook Payload URL, use the OpenShift client to describe the command for the Build Config:</p>
<p><code>oc describe bc/&lt;name of your application pipeline&gt;</code></p>
<p>For example, your Webhook Payload URL may look something like the following:</p>
<p><code>https://api.hcl-dxdev.hcl-dx-dev.net:6443/apis/build.openshift.io/v1/namespaces/&lt;namespace-in-openshift&gt;/buildconfigs/&lt;nameOfYourApplicationPipeline&gt;/webhooks/&lt;myCustomAppSecretFromTheSampleBuildConfigFile&gt;/github</code></p>
</li>
<li>
<p>Set the <strong>Content type</strong> of the Webhook to application/json. If your environment is not using a properly signed certificate, choose to disable SSL.</p>
</li>
<li>
<p>Install and configure the Jenkins plugins required for your application build environment.</p>
</li>
<li>
<p>Navigate to <strong>Manage Jenkins &gt; Manage Plugins</strong>. From the <strong>Available</strong> tab, install the following plugins as necessary, as well as others needed based on your requirements.</p>
<p><code>WebSphere-Deployer Plugin</code></p>
<p><code>Copy Artifact Plugin</code></p>
<p><code>OpenShift Client Jenkins Plugin (if not already installed)</code></p>
</li>
<li>
<p>Configure the WebSphere-Deployer plugin to connect to the WebSphere Integrated Solutions Console. Restart the Jenkins server.</p>
<p><code>https://&lt;jenkins-in-openshift-url&gt;/restart</code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If in an OpenShift environment, a trusted SSL certificate is required for the WebSphere-Deployer plugin. Both the source repository and the Jenkins server require network access to the WebSphere Integrated Solution Console route.</p>
</div>
</li>
<li>
<p>Create the Jenkins deployment job for your application. Use the Copy Artifact plugin to provide the application build output to the deployment job.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is required to configure the deployment job for the application in the Jenkins GUI as the WebSphere-Deployer Plugin is not executable from the command line, and therefore cannot be scripted.</p>
</div>
</li>
<li>
<p>Navigate to your OpenShift <strong>ProjectName &gt; New Item</strong>, provide a name for the application deployment job, select <strong>Freestyle Project</strong> and click <strong>OK</strong>.</p>
</li>
<li>
<p>On the <strong>General</strong> tab of the deployment job's configuration page, check the <strong>Restrict where this project can be run</strong> check box and enter <strong>master</strong> in the <strong>Label Expression</strong> text box.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The WebSphere-Deployer plugin only supports deployment from a Jenkins master.</p>
</div>
</li>
<li>
<p>Scroll down to the <strong>Build Step</strong> section of the configuration page, from the <strong>Add build step</strong> dropdown, choose <strong>Copy artifacts from another project</strong>. For the <strong>Project name</strong>, enter the name of the application build project. The default application build project name will be <strong><namespace-in-openshift>-<name of your application pipeline></strong>.</p>
</li>
<li>
<p>In the <strong>Which build</strong> dropdown, select <strong>Upstream build that triggered this job</strong>. In the <strong>Artifacts to Copy</strong> text box, enter the artifacts required for your deployment. Enter any additional parameters relevant to your environment.</p>
</li>
<li>
<p>Scroll down to the <strong>Post-Build Actions</strong> section of the configuration page, from the <strong>Add post-build action</strong> dropdown, choose <strong>Deploy To IBM WebSphere Application Server</strong>. Enter the required WebSphere information for your environment. Check the <strong>Connect using Global Security</strong> check box and enter the <strong>WebSphere administrator username</strong> and <strong>password</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The WebSphere administrator credentials are stored in plain text in the job config.xml files on the Jenkins master.</p>
</div>
<p>Check the <strong>Trust SSL Certificate</strong> checkbox. Click on the <strong>Advanced</strong> button and enter the <strong>KeyStore</strong> and <strong>TrustStore</strong> values.</p>
</li>
<li>
<p>Ensure the <strong>Test Connection</strong> and/or <strong>Show Available Targets</strong> buttons show successful returns. Enter any additional deployment options relevant to your application and click <strong>Save</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The pipeline can be launched from the OpenShift Platform Console Build Configs page, the oc start-build <build-config-name> command, or with a commit to the GitHub repository.</p>
</div>
<p>The pipeline will copy the application artifact to an HCL Digital Experience instance in OpenShift. The directory where the artifact is copied must already exist and have the appropriate permissions.</p>
</li>
</ol>
<p><strong>Sample Jenkins file</strong></p>
<div class="highlight"><pre><span></span><code>pipeline{
   agent any
   environment {
      appName           = &#39;CustomHTMLEditor&#39;
      earFileName       = &#39;CustomHTMLEditor.ear&#39;
      antHome           = tool &#39;JenkinsAnt&#39;
      //Name of the pod to which the application binaries will be copied
      dx_instance_name  = &#39;dx-deployment-0&#39;
      //Path location within HCL Digital Experience to where to the applciation binaries will be copied
      app_binary_path   = &#39;/opt/HCL/wp_profile/customApps/&#39;
   }
   options {
      //Value needs to match the name of the downstream application deploy job created in the Jenkins console.
      copyArtifactPermission(&#39;deploy-custom-editor-app&#39;) 
   }   
   stages {
      stage(&#39;Log Entry&#39;) { 
         steps {
            script {
               openshift.withCluster() {
                  openshift.withProject() {
                     echo &quot;Building: ${appName} in project: ${openshift.project()}.&quot;
                  }
               }
            }
         }
      }      
      stage(&#39;Checkout&#39;) { 
         steps {
            git &#39;http://github.com:&lt;my custom code directory&gt;/&lt;my custom repository&gt;.git&#39;
         }
      }
      stage(&#39;Build&#39;) {
         steps {
               sh &quot;&#39;${antHome}/bin/ant&#39; clean makezips&quot;
         }
      }
      stage(&#39;Archive&#39;) {
         steps {
            archiveArtifacts &#39;build/dist/*.ear&#39;
         }
      }      
      stage(&#39;Deliver&#39;) {
         steps {
            script {
               openshift.withCluster() {
                  openshift.withProject() {
                  def result = openshift.raw ( &#39;cp&#39;, &#39;${WORKSPACE}/build/dist/${earFileName} ${dx_instance_name}:${app_binary_path}&#39;)
                  echo &quot;Delivery Status:  ${result.out}&quot;
                  }
               }
            }
         }
      }        
      stage(&#39;Deploy&#39;){
         steps {
            //Value needs to match the name of the downstream application deploy job created in the Jenkins console.
            build &#39;deploy-custom-editor-app&#39;
            }
      }
      stage(&#39;Log Exit&#39;) { 
         steps {
            script {
               openshift.withCluster() {
                  openshift.withProject() {
                     echo &quot;Completed build, delivery and deployment of ${appName} in project: ${openshift.project()}.&quot;
                  }
               }
            }
         }
      }        
   }  
}
</code></pre></div>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">July 4, 2023</span>
      
    
  </small>
</div>


  




                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../deploy_container_artifact_updates/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Deploying HCL DX 9.5 Container artifact updates with minimal operations downtime" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Deploying HCL DX 9.5 Container artifact updates with minimal operations downtime
            </div>
          </div>
        </a>
      
      
        
        <a href="../troubleshooting/helm_troubleshooting/" class="md-footer__link md-footer__link--next" aria-label="Next: Troubleshooting Helm Deployment" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Troubleshooting Helm Deployment
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023, HCL Technologies Limited -  <a href="#__consent">Change cookie settings</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/HCL-TECH-SOFTWARE" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.indexes", "navigation.top", "navigation.instant", "search.highlight", "search.share", "search.suggest", "navigation.prune"], "search": "../../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>