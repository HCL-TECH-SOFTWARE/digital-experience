# Configuring the Search Sitemap portlet for search by external search engines

The Search Sitemap portlet generates a navigable list of all public pages of the portal. You can configure the Search Sitemap portlet to determine the limit to the number of links that are displayed per page.

HCL Digital Experience provides the **Search Sitemap** portlet. It serves two purposes:

-   You can use the **Search Sitemap** portlet to navigate the portal site. For more information, see *Managing pages*.
-   The **Search Sitemap** portlet enables external search crawlers to collect portal pages more efficiently. This topic gives more information about configuring the Search Sitemap portlet for search by external search engines.

!!! note
    The **Search Sitemap** portlet can use a large amount of session memory on the portal server if the `MAX_LINKS` value is not properly configured. If you plan on showing the portlet to users, leave the MAX\_LINK value as the default value of 50 to reduce the total amount of session memory used by the `MAX_LINKS` portlet. If you plan on showing the portlet only to search crawlers, you can set the `MAX_LINKS` value to a higher number. Monitor memory usage on the system if you do set `MAX_LINKS` to a higher number.

The Search Sitemap portlet generates a list of all public pages of the portal. You can configure the Search Sitemap portlet to determine the limit to the number of links per page. The Search Sitemap portlet lists portal pages to that maximum figure per page and then starts a new page. Set this figure to a maximum of 50 - 200 links per page for the portal site. For example, the Google search engine recommends fewer than 100 links per page.

Configure the maximum number of links per page for search of the portal by setting the value for the parameter `MAX_LINKS` in the portlet preferences. Either use the **Manage Portlets** administration portlet or update the portlet preferences in the `portlet.xml` file of the Search Sitemap portlet. You can also enable URI home substitution.

|Option|Description|
|---------|---------|
|**Using the administration portlet **Manage Applications****|Use this option to update the `MAX_LINKS` parameter for the Search Sitemap portlet. <br/> 1.  To open the Manage Portlets portlet, click the **Administration menu** icon. <br/> 2.  Then, click **Portlet Management** \> **Applications**. <br/> 3.  Locate the Search Sitemap portlet by searching for wp.ap.sitemap. <br/> 4.  Click the **Configure portlet application** icon for the Search Sitemap portlet. <br/> 5.  Add the MAX\_LINKS parameter by typing it in the **New parameter:** field. <br/> 6.  Click **OK** to save your updates.|
|**Updating the portlet preferences in the `portlet.xml` file of the Search Sitemap portlet**|Use this option to set the general default for the parameter `MAX_LINKS`. <br/> 1.  Locate the WAR file of the Search Sitemap portlet in your portal installation. The WAR file is named sitemap.war. <br/> 2.  Edit the file `portlet.xml` in that WAR file. <br/> 3.  In the section `portlet-preferences` set the parameter `MAX_LINKS` to the required value, for example `50`. Refer to this example code snippet: <br/> <portlet-preferences> <br>     <preference> <br>          <name>MAX_LINKS</name> <br>          <value>50</value> <br>     </preference>   <br></portlet-preferences>   <br>4.  Redeploy the Search Sitemap portlet. <br/> 5.  Restart your portal.|
|**Enable the **Export Search Sitemap** button**|Set the EXPORT parameter to true to enable the Search Sitemap portlet to provide an **Export Search Sitemap** button. The **Export Search Sitemap** button can export a sitemap of all public pages available to anonymous users. The format is compliant with the Sitemap 0.90 format \(www.sitemaps.org\). To make the exported document accessible to crawlers through a web server, copy the file to the respective folder managed by the portal server. For example, store the file in the document root folder of the web server.Use this option to set the general default for the parameter `EXPORT`. <br/> 1.  Locate the WAR file of the Search Sitemap portlet in your portal installation. The WAR file is named sitemap.war. <br/> 2.  Edit the file `portlet.xml` in that WAR file. <br/> 3.  In the section `portlet-preferences` set the parameter `EXPORT` to the required value, for example `true`. Refer to this example code snippet: <br/><portlet-preferences> <br>     <preference> <br>          <name>EXPORT</name> <br>          <value>true</value> <br>     </preference>  <br></portlet-preferences>  <br> 4.  Redeploy the Search Sitemap portlet. <br/> 5.  Restart your portal.|
|**Enable URI home substitution**|Use this option to allow the public links that are generated by the Search Sitemap portlet to redirect to the protected page if a user session exists.  <br/>  1.  Log in to the WebSphereÂ® Integrated Solutions Console. <br/> 2.  Go to **Resources** \> **Resource Environment** \> **Resource Environment Providers** \> **WP ConfigService** \> **Custom properties**. <br/> 3.  Click **New...**. <br/> 4.  For the name, set uri.home.substitution. <br/> 5.  For the value, set true. <br/> 6.  Apply and save the changes. <br/> 7.  If you have a cluster configuration, synchronize the nodes. <br/> 8.  Restart your portal.|


!!! note
    The **Search Sitemap** portlet lists only public pages of your portal that users can access without logging in to the portal with a user ID and password. Secured portal pages are not available for search by anonymous users. Therefore, they are not listed by the **Search Sitemap** portlet.

Search on your portal by external search engines requires more configuration. For more information, see *Search by external search services* and *Client identification for search of the portal by external search engines*.


