<!-- Elements added to main will be displayed on all pages -->
<!--March2023-->


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A next-gen documentation site for HCL Digital Experience.">
      
      
      
        <link rel="canonical" href="https://opensource.hcltechsw.com/digital-experience/latest/deployment/manage/security/people/authentication/Set_up_OIDC_for_DX/">
      
      <link rel="icon" href="../../../../../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-8.5.10">
    
    
      
        <title>Setting up OIDC for HCL Digital Experience - HCL Digital Experience Help Center</title>
      
    
    
      <link rel="stylesheet" href="../../../../../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../../../../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../../assets/stylesheets/style.css">
    
    <script>__md_scope=new URL("../../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      <!--March2023-->
<!--  OneTrust Cookies Consent Notice start  -->
<script type="text/javascript" src="https://cdn.cookielaw.org/consent/99b8d579-c52a-43c9-ab7b-a35e60de7103/OtAutoBlock.js"></script>
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" type="text/javascript" charset="UTF-8" data-domain-script="99b8d579-c52a-43c9-ab7b-a35e60de7103"></script>
<script type="text/javascript"> 
	function OptanonWrapper() { } 
</script>
<!--  OneTrust Cookies Consent Notice end  -->

<!--  Global site tag (gtag.js) - Google Analytics start -->
<script src="https://www.googletagmanager.com/gtag/js?id=G-7LF0XY95M1" class="optanon-category-C0002-C0003-C0004-C0005"></script>
<script type="text/plain" class="optanon-category-C0002-C0003-C0004-C0005">
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-169645537-2');
  gtag('config', 'G-7LF0XY95M1');
</script>
 
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-TNNFCCM');</script>
  <!-- End Google Tag Manager -->
  
<!--  Global site tag (gtag.js) - Google Analytics end -->

    
    
    
  
    <meta name="robots" content="index, follow" />
  
  <meta property="og:image" content="https://opensource.hcltechsw.com/digital-experience/site-thumbnail.png" />

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#setting-up-oidc-for-hcl-digital-experience" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
<div>
   <a href="https://www.hcltechsw.com/"> 
  <img width="150" height="30" src="https://help.hcltechsw.com/assets/images/HCL_Software_Logo_White.svg" alt="HCL Logo" target="_blank"></a>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<div class="dropdown">
  <button class="dropbtn">Resources <i class="fa fa-caret-down"></i></button> 
  <div class="dropdown-content">
  <a href="https://support.hcltechsw.com" target="_blank">Customer Support</a>
  <a href="https://academy.hcltechsw.com" target="_blank">Software Academy</a>
  <a href="https://support.hcltechsw.com/community" target="_blank">Community Forums</a>

</div>
</div>
  
  <!-- Uncomment the following announcement if you need it -->
  <!--
 <div class="md-banner--feedback" style="display:inline">

  <strong>We value your feedback on this site.</strong> Please report any issues you find <a class="announcement__link" href="https://github.com/HCL-TECH-SOFTWARE/digital-experience/issues">via Github</a>. 
  
  <div class="md-banner--feedback">Looking for v8.5 or v9.0? <a class="announcement__link"  href="https://help.hcltechsw.com/digital-experience/9.5/welcome_hcl_dx.html">Check the legacy Help Center.</a>
</div>  
</div>
-->

</div>

          </div>
          
        </aside>
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../../../../../../.."> 
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../../.." title="HCL Digital Experience Help Center" class="md-header__button md-logo" aria-label="HCL Digital Experience Help Center" data-md-component="logo">
      
  <img src="../../../../../../assets/dx_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HCL Digital Experience Help Center
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Setting up OIDC for HCL Digital Experience
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/HCL-TECH-SOFTWARE/digital-experience" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    HCL-TECH-SOFTWARE/digital-experience
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../get_started/product_overview/" class="md-tabs__link">
        Get Started
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../whatsnew/cf20/newcf216/" class="md-tabs__link">
        What's New
      </a>
    </li>
  

  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../" class="md-tabs__link md-tabs__link--active">
        Deploy DX
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../build_sites/" class="md-tabs__link">
        Build Sites
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../manage_content/" class="md-tabs__link">
        Manage Content
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../extend_dx/" class="md-tabs__link">
        Extend DX
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../guide_me/tutorials/" class="md-tabs__link">
        Guide Me
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../../.." title="HCL Digital Experience Help Center" class="md-nav__button md-logo" aria-label="HCL Digital Experience Help Center" data-md-component="logo">
      
  <img src="../../../../../../assets/dx_logo.png" alt="logo">

    </a>
    HCL Digital Experience Help Center
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/HCL-TECH-SOFTWARE/digital-experience" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    HCL-TECH-SOFTWARE/digital-experience
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
                  
<li class="md-nav__item">
  <a href="../../../../../.." class="md-nav__link">
    Home
  </a>
</li>
  
    
      
      
                  
<li class="md-nav__item">
  <a
    href="../../../../../../get_started/product_overview/"
    class="md-nav__link"
  >
    Get Started
  </a>
</li>
  
    
      
      
                  
<li class="md-nav__item">
  <a
    href="../../../../../../whatsnew/cf20/newcf216/"
    class="md-nav__link"
  >
    What's New
  </a>
</li>
  
    
      
      
                 
  
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4"
    type="checkbox"
    id="__nav_4"
    checked
  />
                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../../">Deploy DX</a>

     
    <label for="__nav_4">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
  <nav
    class="md-nav md-nested-nav"
    aria-label="Deploy DX"
    data-md-level="1"
  >
    <label class="md-nav__title" for="__nav_4">
      <span class="md-nav__icon md-icon"></span>
      Deploy DX
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
       
       
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_2"
    type="checkbox"
    id="__nav_4_2"
    
  />
                       
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../../install/">Install</a>

     
    <label for="__nav_4_2">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
               
  
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3"
    type="checkbox"
    id="__nav_4_3"
    checked
  />
                                                                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../">Manage</a>

     
    <label for="__nav_4_3">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
  <nav
    class="md-nav md-nested-nav"
    aria-label="Manage"
    data-md-level="2"
  >
    <label class="md-nav__title" for="__nav_4_3">
      <span class="md-nav__icon md-icon"></span>
      Manage
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
       
       
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_2"
    type="checkbox"
    id="__nav_4_3_2"
    
  />
                                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../container_configuration/">Configure Kubernetes Deployment</a>

     
    <label for="__nav_4_3_2">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
                
<li class="md-nav__item">
  <a href="../../../../stopstart/" class="md-nav__link">
    Starting and stopping servers, deployment managers, and node agents
  </a>
</li>
    
                
<li class="md-nav__item">
  <a href="../../../../itlm/" class="md-nav__link">
    Configuring the IBM License Metric Tool
  </a>
</li>
    
                
<li class="md-nav__item">
  <a href="../../../../config_standalone/" class="md-nav__link">
    Configuring a stand-alone server
  </a>
</li>
    
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_6"
    type="checkbox"
    id="__nav_4_3_6"
    
  />
                             
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../config_cluster/">Setting up a cluster</a>

     
    <label for="__nav_4_3_6">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_7"
    type="checkbox"
    id="__nav_4_3_7"
    
  />
                       
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../portalfarm_cfg/">Setting up and maintaining a portal farm</a>

     
    <label for="__nav_4_3_7">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
               
  
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_8"
    type="checkbox"
    id="__nav_4_3_8"
    checked
  />
                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../">Security</a>

     
    <label for="__nav_4_3_8">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
  <nav
    class="md-nav md-nested-nav"
    aria-label="Security"
    data-md-level="3"
  >
    <label class="md-nav__title" for="__nav_4_3_8">
      <span class="md-nav__icon md-icon"></span>
      Security
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
       
       
               
  
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_8_2"
    type="checkbox"
    id="__nav_4_3_8_2"
    checked
  />
                     
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../">People</a>

     
    <label for="__nav_4_3_8_2">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
  <nav
    class="md-nav md-nested-nav"
    aria-label="People"
    data-md-level="4"
  >
    <label class="md-nav__title" for="__nav_4_3_8_2">
      <span class="md-nav__icon md-icon"></span>
      People
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
       
       
               
  
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_8_2_2"
    type="checkbox"
    id="__nav_4_3_8_2_2"
    checked
  />
                                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../">Authentication</a>

     
    <label for="__nav_4_3_8_2_2">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
  <nav
    class="md-nav md-nested-nav"
    aria-label="Authentication"
    data-md-level="5"
  >
    <label class="md-nav__title" for="__nav_4_3_8_2_2">
      <span class="md-nav__icon md-icon"></span>
      Authentication
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
       
       
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_8_2_2_2"
    type="checkbox"
    id="__nav_4_3_8_2_2_2"
    
  />
                                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../user_registry/">User registry</a>

     
    <label for="__nav_4_3_8_2_2_2">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_8_2_2_3"
    type="checkbox"
    id="__nav_4_3_8_2_2_3"
    
  />
                 
  <div class="md-nav__link md-nav__link--index ">
    <a href="../customer_user_repo/">Setting up custom user repositories</a>

     
    <label for="__nav_4_3_8_2_2_3">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_8_2_2_4"
    type="checkbox"
    id="__nav_4_3_8_2_2_4"
    
  />
                             
  <div class="md-nav__link md-nav__link--index ">
    <a href="../external_sec_mgmt/">External security managers</a>

     
    <label for="__nav_4_3_8_2_2_4">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_8_2_2_5"
    type="checkbox"
    id="__nav_4_3_8_2_2_5"
    
  />
                           
  <div class="md-nav__link md-nav__link--index ">
    <a href="../sec_auth_consideration/">Security authentication considerations</a>

     
    <label for="__nav_4_3_8_2_2_5">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
                
<li class="md-nav__item md-nav__item--active">
   
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="toc"
    type="checkbox"
    id="__toc"
  />

        
  <label class="md-nav__link md-nav__link--active" for="__toc">
    Setting up OIDC for HCL Digital Experience
    <span class="md-nav__icon md-icon"></span>
  </label>
  
  <a href="./" class="md-nav__link md-nav__link--active">
    Setting up OIDC for HCL Digital Experience
  </a>

    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuring-oidc-authentication-for-dx" class="md-nav__link">
    Configuring OIDC Authentication for DX
  </a>
  
    <nav class="md-nav" aria-label="Configuring OIDC Authentication for DX">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-this-about" class="md-nav__link">
    What is this about?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overview-of-required-configuration-tasks" class="md-nav__link">
    Overview of required configuration tasks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-implications-does-this-have" class="md-nav__link">
    What implications does this have?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-information" class="md-nav__link">
    Additional information
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-the-oidcrp-tai" class="md-nav__link">
    Installing the OIDCRP TAI
  </a>
  
    <nav class="md-nav" aria-label="Installing the OIDCRP TAI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#restarting-the-server-dx-core-to-apply-all-changes" class="md-nav__link">
    Restarting the server / DX core to apply all changes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-the-oidc-rp-tai-against-your-idp" class="md-nav__link">
    Configuring the OIDC RP TAI against your IdP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-was-security-properties" class="md-nav__link">
    Updating WAS security properties
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-the-hostnameserver-certificate-to-the-was-trust-store" class="md-nav__link">
    Adding the hostname/server certificate to the WAS trust store
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-the-dx-logout-flow-for-oidc" class="md-nav__link">
    Updating the DX Logout flow for OIDC
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-dx-vmm-to-match-oidc-identities" class="md-nav__link">
    Configuring DX VMM to match OIDC identities
  </a>
  
    <nav class="md-nav" aria-label="Configuring DX VMM to match OIDC identities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-the-login-property-to-mail" class="md-nav__link">
    Setting the login property to mail
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-ibm-websphere-application-server-sub-component-virtual-member-manager-vmm-to-map-user-attributes" class="md-nav__link">
    Updating IBM WebSphere Application Server sub-component Virtual Member Manager (VMM) to map user attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restarting-the-server-dx-core-to-apply-all-changes_1" class="md-nav__link">
    Restarting the server / DX core to apply all changes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-login-link-from-dx-to-your-idp" class="md-nav__link">
    Setting up login link from DX to your IdP
  </a>
  
    <nav class="md-nav" aria-label="Setting up login link from DX to your IdP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#detaching-the-existing-login-option" class="md-nav__link">
    Detaching the existing login option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-the-new-idp-specific-login-option" class="md-nav__link">
    Creating the new IdP specific login option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapping-the-new-idp-specific-login-to-use-it" class="md-nav__link">
    Mapping the new IdP specific login to use it
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-the-oidc-login-flow" class="md-nav__link">
    Testing the OIDC login flow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    Reference
  </a>
  
</li>
      
    </ul>
  
</nav>
  
</li>

   
                
<li class="md-nav__item">
  <a href="../wcm_secure_int_tai_auth/" class="md-nav__link">
    Integrating with IBM WAS TAI authentication
  </a>
</li>
    
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_8_2_2_8"
    type="checkbox"
    id="__nav_4_3_8_2_2_8"
    
  />
                 
  <div class="md-nav__link md-nav__link--index ">
    <a href="../stepup_auth/">Enabling step-up authentication and/or the Remember me cookie</a>

     
    <label for="__nav_4_3_8_2_2_8">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_8_2_2_9"
    type="checkbox"
    id="__nav_4_3_8_2_2_9"
    
  />
                       
  <div class="md-nav__link md-nav__link--index ">
    <a href="../basic_auth/">Enabling HTTP Basic Authentication for simple clients</a>

     
    <label for="__nav_4_3_8_2_2_9">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_8_2_2_10"
    type="checkbox"
    id="__nav_4_3_8_2_2_10"
    
  />
                             
  <div class="md-nav__link md-nav__link--index ">
    <a href="../updating_userid_pwd/">Updating user ID and passwords</a>

     
    <label for="__nav_4_3_8_2_2_10">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_8_2_2_11"
    type="checkbox"
    id="__nav_4_3_8_2_2_11"
    
  />
               
  <div class="md-nav__link md-nav__link--index ">
    <a href="../integrate_oid/">Integrating with Transient Users with OpenID Connect</a>

     
  </div>
    
</li>

   
    </ul>
  </nav>
  
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_8_2_3"
    type="checkbox"
    id="__nav_4_3_8_2_3"
    
  />
                     
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../authorization/">Authorization</a>

     
    <label for="__nav_4_3_8_2_3">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_8_2_4"
    type="checkbox"
    id="__nav_4_3_8_2_4"
    
  />
               
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../nonrepudiation/">Nonrepudiation</a>

     
  </div>
    
</li>

   
    </ul>
  </nav>
  
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_8_3"
    type="checkbox"
    id="__nav_4_3_8_3"
    
  />
                     
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../information/">Information</a>

     
    <label for="__nav_4_3_8_3">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
    </ul>
  </nav>
  
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_9"
    type="checkbox"
    id="__nav_4_3_9"
    
  />
                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../tune_servers/">Tune your environment</a>

     
    <label for="__nav_4_3_9">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
                
<li class="md-nav__item">
  <a href="../../../../port_chg/" class="md-nav__link">
    Changing ports
  </a>
</li>
    
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_11"
    type="checkbox"
    id="__nav_4_3_11"
    
  />
                     
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../siteurl_cfg/">Changing your site URL</a>

     
    <label for="__nav_4_3_11">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_12"
    type="checkbox"
    id="__nav_4_3_12"
    
  />
                                                     
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../config_portal_behavior/">Configuring portal behavior</a>

     
    <label for="__nav_4_3_12">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_13"
    type="checkbox"
    id="__nav_4_3_13"
    
  />
                               
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../portal_admin_tools/">Portal administration tools</a>

     
    <label for="__nav_4_3_13">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_14"
    type="checkbox"
    id="__nav_4_3_14"
    
  />
                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../manage_portal_using_iim/">Managing Interim Fixes for HCL Portal</a>

     
    <label for="__nav_4_3_14">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_15"
    type="checkbox"
    id="__nav_4_3_15"
    
  />
                     
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../config_webservers/">Web server</a>

     
    <label for="__nav_4_3_15">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_16"
    type="checkbox"
    id="__nav_4_3_16"
    
  />
                                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../db_mgmt_sys/">Database Management Systems</a>

     
    <label for="__nav_4_3_16">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_17"
    type="checkbox"
    id="__nav_4_3_17"
    
  />
                                

  <div class="md-nav__link md-nav__link--index">
    <a href="../../../../profile/iim_modify/"> Profile </a>
    <label for="__nav_4_3_17">
      <span class="md-nav__icon md-icon"></span>
    </label>
  </div>

      
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_18"
    type="checkbox"
    id="__nav_4_3_18"
    
  />
                       
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../cfg_property_files/">Configuration properties</a>

     
    <label for="__nav_4_3_18">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_19"
    type="checkbox"
    id="__nav_4_3_19"
    
  />
                       
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../backup_restore/">Backup and restore</a>

     
    <label for="__nav_4_3_19">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_20"
    type="checkbox"
    id="__nav_4_3_20"
    
  />
                       
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../change_dev_mode_env/">Changing to a developer mode environment</a>

     
    <label for="__nav_4_3_20">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_21"
    type="checkbox"
    id="__nav_4_3_21"
    
  />
                             
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../staging_to_production/">Staging to production</a>

     
    <label for="__nav_4_3_21">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_22"
    type="checkbox"
    id="__nav_4_3_22"
    
  />
                           
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../migrate/">Migrating</a>

     
    <label for="__nav_4_3_22">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_23"
    type="checkbox"
    id="__nav_4_3_23"
    
  />
                       
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../multiple_profiles/">Supporting multiple profiles</a>

     
    <label for="__nav_4_3_23">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_24"
    type="checkbox"
    id="__nav_4_3_24"
    
  />
                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../remote_spell_checker/">Setting up a remote spell checker</a>

     
    <label for="__nav_4_3_24">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_25"
    type="checkbox"
    id="__nav_4_3_25"
    
  />
                 
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../upsell/">Upgrading your existing product offering</a>

     
    <label for="__nav_4_3_25">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_26"
    type="checkbox"
    id="__nav_4_3_26"
    
  />
                   
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../monitoring/">Monitoring</a>

     
    <label for="__nav_4_3_26">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
             
  
<li class="md-nav__item md-nav__item--nested">
    
  <input
    class="md-nav__toggle md-toggle"
    data-md-toggle="__nav_4_3_27"
    type="checkbox"
    id="__nav_4_3_27"
    
  />
                           
  <div class="md-nav__link md-nav__link--index ">
    <a href="../../../../troubleshooting/">Troubleshooting</a>

     
    <label for="__nav_4_3_27">
      <span class="md-nav__icon md-icon"></span>
    </label>
    
  </div>
    
</li>

   
    </ul>
  </nav>
  
</li>

   
    </ul>
  </nav>
  
</li>

 
    
      
      
                  
<li class="md-nav__item">
  <a href="../../../../../../build_sites/" class="md-nav__link">
    Build Sites
  </a>
</li>
  
    
      
      
                  
<li class="md-nav__item">
  <a href="../../../../../../manage_content/" class="md-nav__link">
    Manage Content
  </a>
</li>
  
    
      
      
                  
<li class="md-nav__item">
  <a href="../../../../../../extend_dx/" class="md-nav__link">
    Extend DX
  </a>
</li>
  
    
      
      
                  
<li class="md-nav__item">
  <a
    href="../../../../../../guide_me/tutorials/"
    class="md-nav__link"
  >
    Guide Me
  </a>
</li>
  
    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuring-oidc-authentication-for-dx" class="md-nav__link">
    Configuring OIDC Authentication for DX
  </a>
  
    <nav class="md-nav" aria-label="Configuring OIDC Authentication for DX">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-this-about" class="md-nav__link">
    What is this about?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overview-of-required-configuration-tasks" class="md-nav__link">
    Overview of required configuration tasks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-implications-does-this-have" class="md-nav__link">
    What implications does this have?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-information" class="md-nav__link">
    Additional information
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-the-oidcrp-tai" class="md-nav__link">
    Installing the OIDCRP TAI
  </a>
  
    <nav class="md-nav" aria-label="Installing the OIDCRP TAI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#restarting-the-server-dx-core-to-apply-all-changes" class="md-nav__link">
    Restarting the server / DX core to apply all changes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-the-oidc-rp-tai-against-your-idp" class="md-nav__link">
    Configuring the OIDC RP TAI against your IdP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-was-security-properties" class="md-nav__link">
    Updating WAS security properties
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-the-hostnameserver-certificate-to-the-was-trust-store" class="md-nav__link">
    Adding the hostname/server certificate to the WAS trust store
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-the-dx-logout-flow-for-oidc" class="md-nav__link">
    Updating the DX Logout flow for OIDC
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-dx-vmm-to-match-oidc-identities" class="md-nav__link">
    Configuring DX VMM to match OIDC identities
  </a>
  
    <nav class="md-nav" aria-label="Configuring DX VMM to match OIDC identities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-the-login-property-to-mail" class="md-nav__link">
    Setting the login property to mail
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-ibm-websphere-application-server-sub-component-virtual-member-manager-vmm-to-map-user-attributes" class="md-nav__link">
    Updating IBM WebSphere Application Server sub-component Virtual Member Manager (VMM) to map user attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restarting-the-server-dx-core-to-apply-all-changes_1" class="md-nav__link">
    Restarting the server / DX core to apply all changes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-login-link-from-dx-to-your-idp" class="md-nav__link">
    Setting up login link from DX to your IdP
  </a>
  
    <nav class="md-nav" aria-label="Setting up login link from DX to your IdP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#detaching-the-existing-login-option" class="md-nav__link">
    Detaching the existing login option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-the-new-idp-specific-login-option" class="md-nav__link">
    Creating the new IdP specific login option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapping-the-new-idp-specific-login-to-use-it" class="md-nav__link">
    Mapping the new IdP specific login to use it
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-the-oidc-login-flow" class="md-nav__link">
    Testing the OIDC login flow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    Reference
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  



  <a href="https://github.com/HCL-TECH-SOFTWARE/digital-experience/edit/main/docs/deployment/manage/security/people/authentication/Set_up_OIDC_for_DX.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="setting-up-oidc-for-hcl-digital-experience">Setting up OIDC for HCL Digital Experience</h1>
<h2 id="configuring-oidc-authentication-for-dx">Configuring OIDC Authentication for DX</h2>
<p>The following steps configure your HCL Digital Experience (DX) installation to leverage OpenID Connect (OIDC) based authentication with an OIDC compatible Identity Provider (IdP), such as Keycloak. This means that DX is turned into a relying party (RP) towards your IdP and the IdP is trusted for authentication assertions.</p>
<h3 id="what-is-this-about">What is this about?</h3>
<p>An increasing number of enterprises are leveraging IdPs to manage the identities, access rights, and authentication flows of their customers, employees, and partners towards their applications and IT landscape. Common IdP solutions and services include Microsoft Azure Active Directory, Okta, Auth0, or Keycloak. Each of the available solutions has unique takes and capabilities that may make them a good choice or fit over another, but all of them focus on common and standardized authentication strategies - most notably OIDC.</p>
<p>OIDC serves as a modern authentication and authorization protocol designed to enhance digital security and user experience, particularly in the realm of identity and access management (IAM). Operating as an extension of the OAuth 2.0 framework, OIDC merges the strengths of OAuth's access delegation capabilities with identity verification, resulting in a comprehensive solution.</p>
<p>At its core, OIDC streamlines the process of confirming user identities and authorizing their access to digital resources. It achieves this through the establishment of a trust relationship between the Identity Provider and the relying party (a web application or service, such as HCL Digital Experience). Users initiate the process by presenting their credentials to the IdP, which validates their identity. Subsequently, the IdP issues tokens, including the ID token which acts as proof of authentication, and the access token which grants access to protected resources. This allows supporting capabilities like Single Sign-On (SSO) across multiple applications, prolonged and uninterrupted user sessions, and enabling seamless collaboration across organizations while maintaining a secure identity exchange with granular control over data sharing. The protocol's flexibility accommodates diverse use cases, from mobile applications to single-page web apps.</p>
<p>HCL DX and HCL Digital Solutions (DS) products as a whole recognize the benefits of and requirements to OIDC and thus support it. The following document provides an initial set of instructions to get started and enable HCL DX for it.</p>
<p>HCL DX in particular has a vast set of capabilities relating to authentication, such as <a href="../../../../config_portal_behavior/auth_filters/">custom authentication filters</a>, <a href="../integrate_oid/">transient users</a>, <a href="../stepup_auth/enabling_stepup_auth/stepup_auth_prop/">step-up authentication</a>, a customizable login UI through portlets and more. Some of those capabilities require additional steps or are by design incompatible with standard OIDC-based authentication and access flows and may not work out of the box. This documentation will be updated and extended with additional configuration steps and strategies to get them working or clearly outline their limitations.</p>
<p>If you are interested in the transient users functionality as part of OIDC, refer to the documentation <a href="../integrate_oid/">Integrating with Transient Users with OpenID Connect</a>.</p>
<h3 id="overview-of-required-configuration-tasks">Overview of required configuration tasks</h3>
<p>On a high level, the following tasks must be executed to establish this configuration:</p>
<ol>
<li>
<p>Install the OIDC RP Trust Association Interceptor (TAI) for WebSphere.</p>
</li>
<li>
<p>Configure the OIDC RP TAI against your IdP.</p>
</li>
<li>
<p>Update WebSphere Application Server (WAS) security properties to match the new TAI requirements.</p>
</li>
<li>
<p>Add the server certificate to the WAS trust store to allow internal HTTPS communication.</p>
</li>
<li>
<p>Update the DX logout flow for OIDC.</p>
</li>
<li>
<p>Configure DX VMM to match OIDC identities.</p>
</li>
<li>
<p>Set up the login link from DX to your IdP.</p>
</li>
<li>
<p>Validate everything is working as expected.</p>
</li>
</ol>
<h3 id="what-implications-does-this-have">What implications does this have?</h3>
<p>Please be aware that configuring OIDC as the authentication protocol has certain implications to how features behave and have to be used or configured. Some of those implications are:</p>
<ul>
<li>
<p>Only users in the repository of the IdP can authenticate via OIDC. Users in other repositories, such as administrative users in the file registry, must bypass OIDC to authenticate.</p>
</li>
<li>
<p>This procedure requires that the IdP and HCL DX leverage the same user repository. Alternatively, there is an option for <a href="../integrate_oid/">Integrating with Transient Users with OpenID Connect</a>. </p>
</li>
</ul>
<!-----This is subject to be elaborated on as part of this documentation in a later iteration.-->

<ul>
<li>Creating users or allowing them to sign up through DX might be blocked due to the user management being relocated to the IdP as the primary orchestrator.</li>
</ul>
<h3 id="additional-information">Additional information</h3>
<p>Use this procedure as a general reference and make adjustments to accommodate the environment and application requirements. In some cases, there are additional configuration options that alter the values to input or require steps to be conducted slightly differently. The following assumptions have been made:</p>
<ul>
<li>
<p>There is only one hostname in use (this might differ in some cases, for example, if you are using Virtual Portals).</p>
</li>
<li>
<p>The default context root /wps/portal (and /wps/myportal) are used, with <code>myportal</code> being the secured URL.</p>
</li>
<li>
<p>The login property to identify users is the mail attribute.</p>
</li>
<li>
<p>The cloud native distribution of DX is used.</p>
</li>
<li>
<p>An IdP is set up and configured. Required details like the client id or secrets are available to configure during the tasks in this document.</p>
</li>
<li>
<p><a href="https://www.keycloak.org/">Keycloak</a> is used as the IdP. The OIDC layer looks mostly the same with any other IdP but this is not guaranteed due to the extensive landscape of providers.</p>
</li>
</ul>
<h2 id="installing-the-oidcrp-tai">Installing the OIDCRP TAI</h2>
<ol>
<li>
<p>Install the OIDC RP Trust Association Interceptor (TAI). For more details, refer to <a href="https://www.ibm.com/docs/en/was-nd/9.0.5?topic=users-configuring-openid-connect-relying-party">Configuring an OpenID Connect Relying Party</a>.</p>
<div class="highlight"><pre><span></span><code>kubectl exec -it dx-deployment-core-0 bash -n dxns

cd /opt/HCL/AppServer/bin
./wsadmin.sh -f installOIDCRP.py install dockerNode WebSphere_Portal
Username: wpsadmin
Password: wpsadmin

...
ADMA5013I: Application WebSphereOIDCRP installed successfully.
</code></pre></div>
<p>For non-Kubernetes, use the following:
<div class="highlight"><pre><span></span><code>&lt;profile_path&gt;/bin/wsadmin.sh|bat installOIDCRP.py install &lt;node-name&gt; WebSphere_Portal -user &lt;admin-userid&gt; -password &lt;admin-password&gt;
</code></pre></div></p>
<p>In a cluster, adjust the cellName and cluster accordingly.</p>
</li>
<li>
<p>Open IBM WebSphere Application Server Integrated Solutions Console and go to <strong>Applications &gt; Application types &gt; Enterprise Applications &gt; WebsphereOIDCRP &gt; Manage modules</strong>.</p>
</li>
<li>
<p>Select available module and click Apply then OK. <img alt="" src="../../../../../../images/OIDCRP_WAS_SERVER_MAPPING.png" /></p>
</li>
</ol>
<h3 id="restarting-the-server-dx-core-to-apply-all-changes">Restarting the server / DX core to apply all changes</h3>
<p>Restart the server (that is, the DX core JVM) to load the newly installed OIDC RP TAI. This is required for the next configuration steps. Restarting the server can be done in various ways, for example, through the ConfigEngine:</p>
<div class="highlight"><pre><span></span><code>kubectl exec -it dx-deployment-core-0 bash -n dxns
/opt/HCL/wp_profile/ConfigEngine/./ConfigEngine.sh stop-portal-server -user &lt;admin-userid&gt; -password &lt;admin-password&gt;
</code></pre></div>
<p>For non-Kubernetes, use the following for all Portal JVMs:
<div class="highlight"><pre><span></span><code>&lt;profile_path&gt;/bin/stopServer.sh|bat WebSphere_Portal -user &lt;admin-userid&gt; -password &lt;admin-password&gt;
&lt;profile_path&gt;/bin/startServer.sh|bat WebSphere_Portal -user &lt;admin-userid&gt; -password &lt;admin-password&gt;
</code></pre></div></p>
<h2 id="configuring-the-oidc-rp-tai-against-your-idp">Configuring the OIDC RP TAI against your IdP</h2>
<p>The following configuration allows the OIDC TAI to contextualize which requests should be intercepted and how to treat them. In particular, this configuration is tightly connected to the IdP realm and client configuration.</p>
<p>The interceptor can be configured in the IBM WebSphere Application Server Integrated Solutions Console under <strong>Security &gt; Global Security &gt; Web and SIP security &gt; Trust association &gt; Interceptors</strong>.</p>
<ol>
<li>
<p>Click <strong>New..</strong> button to create a new interceptor with the <strong>Interceptor class name</strong>.</p>
<p><code>com.ibm.ws.security.oidc.client.RelyingParty</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the interceptor already exists, click on it to access the configuration properties instead of creating it again.</p>
</div>
</li>
<li>
<p>Add the following custom properties:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>provider_1.identifier</td>
<td>hcl</td>
</tr>
<tr>
<td>provider_1.clientId</td>
<td>hcl-dx-oidc-client</td>
</tr>
<tr>
<td>provider_1.clientSecret</td>
<td><CLIENT_SECRET></td>
</tr>
<tr>
<td>provider_1.authorizeEndpointUrl</td>
<td>https://<HOSTNAME>/realms/hcl/protocol/openid-connect/auth</td>
</tr>
<tr>
<td>provider_1.tokenEndpointUrl</td>
<td>https://<HOSTNAME>/realms/hcl/protocol/openid-connect/token</td>
</tr>
<tr>
<td>provider_1.interceptedPathFilter</td>
<td>/wps/myportal</td>
</tr>
<tr>
<td>provider_1.excludedPathFilter</td>
<td>/ibm/console,/ibm/console.*</td>
</tr>
<tr>
<td>provider_1.issuerIdentifier</td>
<td>https://<HOSTNAME>/realms/hcl</td>
</tr>
<tr>
<td>provider_1.signatureAlgorithm</td>
<td>RS256</td>
</tr>
<tr>
<td>provider_1.jwkEndpointUrl</td>
<td>https://<HOSTNAME>/realms/hcl/protocol/openid-connect/certs</td>
</tr>
<tr>
<td>provider_1.userIdentifier</td>
<td>email</td>
</tr>
<tr>
<td>provider_1.userDefaultIdentifierFirst</td>
<td>false</td>
</tr>
<tr>
<td>provider_1.scope</td>
<td>openid</td>
</tr>
<tr>
<td>provider_1.signVerifyAlias</td>
<td>hcl-dx-oidc-client</td>
</tr>
<tr>
<td>provider_1.useJwtFromRequest</td>
<td>IfPresent</td>
</tr>
<tr>
<td>provider_1.createSession</td>
<td>true</td>
</tr>
<tr>
<td>provider_1.verifyIssuerInIat</td>
<td>true</td>
</tr>
<tr>
<td>provider_1.audiences</td>
<td>ALL_AUDIENCES</td>
</tr>
<tr>
<td>provider_1.setLtpaCookie</td>
<td>true</td>
</tr>
<tr>
<td>provider_1.callbackServletContext</td>
<td>/oidcclient</td>
</tr>
<tr>
<td>provider_1.mapIdentityToRegistryUser</td>
<td>true</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure to replace the <HOSTNAME> and <CLIENT_SECRET> placeholders with your respective details. The client secret is available through your IdP client configuration. Also, ensure other properties match your environment configuration. For example, the path filter matches your DX context, the OIDC URLs match your IdP endpoint structure, and the right client id is used.</p>
</div>
</li>
<li>
<p>Click <strong>Apply</strong> and <strong>OK</strong>. To continue the changes, click <strong>Save</strong> directly to the master configuration in the alert message.</p>
</li>
</ol>
<h2 id="updating-was-security-properties">Updating WAS security properties</h2>
<p>Some custom properties have to be updated to match the OIDC TAI config and its expected behavior. To do, go to <strong>Security &gt; Global security &gt; Custom properties</strong>.</p>
<ol>
<li>
<p>Delete the property <code>com.ibm.websphere.security.DeferTAItoSSO</code> if it exists. </p>
</li>
<li>
<p>Add or update the following properties:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>com.ibm.websphere.security.customLTPA2CookieName</td>
<td>LtpaToken</td>
</tr>
<tr>
<td>com.ibm.websphere.security.customSSOCookieName</td>
<td>LtpaToken2</td>
</tr>
<tr>
<td>com.ibm.websphere.security.disableGetTokenFromMBean</td>
<td>false</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>To continue the changes, click <strong>Save</strong>.</p>
</li>
</ol>
<h2 id="adding-the-hostnameserver-certificate-to-the-was-trust-store">Adding the hostname/server certificate to the WAS trust store</h2>
<p>In order to allow internal HTTPS communication with your IdP, you must add the hostname (FQDN) to the WebSphere trust store.</p>
<ol>
<li>
<p>In the IBM WebSphere Application Server Integrated Solutions Console, navigate to <strong>Security &gt; SSL certificate and key management &gt; Key stores and certificates &gt; NodeDefaultTrustStore &gt; Signer Certificates &gt; Retrieve from port</strong>.</p>
</li>
<li>
<p>Set the following properties:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Host</td>
<td>hostname (FQDN)</td>
</tr>
<tr>
<td>Port</td>
<td>443</td>
</tr>
<tr>
<td>Alias</td>
<td>hcl-idp (Note: same as provided in above interceptor property)</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Click <strong>Retrieve signer information</strong>. This loads the certificate details.</p>
</li>
<li>
<p>Click <strong>OK</strong>, and <strong>Save</strong> to the master configuration.</p>
</li>
</ol>
<h2 id="updating-the-dx-logout-flow-for-oidc">Updating the DX Logout flow for OIDC</h2>
<ol>
<li>
<p>In the IBM WebSphere Application Server Integrated Solutions Console, navigate to <strong>Resources &gt; Resource Environment &gt; Resource Environment Providers &gt; WP ConfigService &gt; Custom properties</strong>.</p>
</li>
<li>
<p>Add or update the following properties:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>redirect.logout</td>
<td>true</td>
</tr>
<tr>
<td>redirect.logout.ssl</td>
<td>true</td>
</tr>
<tr>
<td>redirect.logout.url</td>
<td>https://<HOSTNAME>/auth/realms/hcl/protocol/openid-connect/logout?post_logout_redirect_uri=https://<HOSTNAME>/wps/portal&amp;client_id=hcl-dx-oidc-client</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>To continue the changes, click <strong>Save</strong>.</p>
</li>
</ol>
<h2 id="configuring-dx-vmm-to-match-oidc-identities">Configuring DX VMM to match OIDC identities</h2>
<h3 id="setting-the-login-property-to-mail">Setting the login property to mail</h3>
<p>First, set the login property to <code>mail</code> to match the identity attribute coming in from your IdP. To do this,</p>
<ol>
<li>
<p>Go to the IBM WebSphere Application Server Integrated Solutions Console.</p>
</li>
<li>
<p>Navigate to <strong>Security &gt; Global security &gt; User account repository &gt; Configure... &gt; <LDAP_ID></strong></p>
</li>
<li>
<p>Set the field for <strong>Federated repository properties for login</strong> to <code>mail</code>.</p>
</li>
<li>
<p>Then, click <strong>OK</strong> and <strong>Save</strong> to the master configuration.</p>
</li>
</ol>
<h3 id="updating-ibm-websphere-application-server-sub-component-virtual-member-manager-vmm-to-map-user-attributes">Updating IBM WebSphere Application Server sub-component Virtual Member Manager (VMM) to map user attributes</h3>
<ol>
<li>
<p>After setting the login property to <code>mail</code>, this change must be worked into the WAS wimconfig.xml as well. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This requires a manual update of the file, make sure to back the file up as this might otherwise corrupt your instance.</p>
</div>
<div class="highlight"><pre><span></span><code>kubectl exec -it dx-deployment-core-0 bash -n dxns

cd /opt/HCL/wp_profile/config/cells/dockerCell/wim/config/
# Create a backup
cp wimconfig.xml wimconfig.xml.backup

# Start editing the wimconfig.xml
vi wimconfig.xml
</code></pre></div>
<p>For non-Kubernetes:</p>
<p>If non-clustered or standalone, go to the Deployment Manager and edit the file <code>&lt;profile_path&gt;/config/cells/&lt;cell-name&gt;/wim/config/wimconfig.xml</code>.</p>
</li>
<li>
<p>From here, find the <code>userSecurityNameMapping</code> config attribute in the realmConfiguration and change the value of property <code>propertyForOutput</code> to <code>uniqueName</code> as outlined below:</p>
<div class="highlight"><pre><span></span><code># before
&lt;config:userSecurityNameMapping propertyForInput=&quot;principalName&quot; propertyForOutput=&quot;principalName&quot;/&gt;

# after
&lt;config:userSecurityNameMapping propertyForInput=&quot;principalName&quot; propertyForOutput=&quot;uniqueName&quot;/&gt;
</code></pre></div>
</li>
<li>
<p>Make sure to save the changes.</p>
</li>
</ol>
<h3 id="restarting-the-server-dx-core-to-apply-all-changes_1">Restarting the server / DX core to apply all changes</h3>
<p>Finally, restart the DX environment (specifically, the DX core JVM) for the changes to take effect. Restarting the server can be done in various ways, for example, through the ConfigEngine:</p>
<div class="highlight"><pre><span></span><code>kubectl exec -it dx-deployment-core-0 bash -n dxns
/opt/HCL/wp_profile/ConfigEngine/./ConfigEngine.sh stop-portal-server
</code></pre></div>
<p>Refer to the following steps for non-Kubernetes:</p>
<ul>
<li>If clustered, access the Deployment Manager. Sync all nodes and restart the Deployment Manager, node agent, and Portal JVMs.</li>
<li>If standalone, use the following:
    <div class="highlight"><pre><span></span><code>&lt;profile_path&gt;/bin/stopServer.sh|bat WebSphere_Portal -user &lt;admin-userid&gt; -password &lt;admin-password&gt;
&lt;profile_path&gt;/bin/startServer.sh|bat WebSphere_Portal -user &lt;admin-userid&gt; -password &lt;admin-password&gt;
</code></pre></div></li>
</ul>
<p>The restart takes a few minutes to complete.</p>
<h2 id="setting-up-login-link-from-dx-to-your-idp">Setting up login link from DX to your IdP</h2>
<p>To properly invoke the OIDC flow, make sure that the login link pushes you to the <code>/wps/myportal</code> URL which was set up to be interceptor in the OIDC configuration. This involves multiple steps within the DX administration view.</p>
<h3 id="detaching-the-existing-login-option">Detaching the existing login option</h3>
<p>First, detach the existing login option by changing its unique name:</p>
<ol>
<li>
<p>Navigate to the portal site <code>https://&lt;HOSTNAME&gt;/wps/portal</code> and log in as the admin user (wpsadmin:wpsadmin).</p>
</li>
<li>
<p>Click the <strong>home icon</strong> dropdown to open the applications menu and click <strong>Administration</strong>.</p>
</li>
<li>
<p>On the <strong>Administration</strong> page, expand the menu on the top left and navigate to <strong>Site Management &gt; Pages</strong>.</p>
</li>
<li>
<p>On the <strong>Manage Pages</strong> page, search for <strong>login</strong> (Search by: Title starts with; Search: login). This should find the <strong>Login</strong> (wps.Login) page.</p>
</li>
<li>
<p>Click <strong>Edit Page Properties</strong> icon (first action in the row). This brings you to the <strong>Edit page: Login</strong> configuration page.</p>
</li>
<li>
<p>In the <strong>Unique Name</strong> field, edit the value and rename <code>wps.Login</code> to <code>wps.Login.default</code>. Click <strong>OK</strong>.</p>
</li>
</ol>
<h3 id="creating-the-new-idp-specific-login-option">Creating the new IdP specific login option</h3>
<p>Create the new login option that maps to <code>/wps/myportal</code>. This action will be set to be accessible to anonymous users:</p>
<ol>
<li>
<p>In <strong>Manage Pages</strong> page, click <strong>Select Page</strong> link.</p>
</li>
<li>
<p>Click <strong>Content Root</strong> page and click <strong>Home</strong> page.</p>
</li>
<li>
<p>Click the <strong>New URL</strong> button.</p>
</li>
<li>
<p>Set <strong>Title</strong> to <code>Login-IdP</code>.</p>
</li>
<li>
<p>Make sure the radio button for <strong>A link to a Web page with the following URL</strong> is selected.</p>
</li>
<li>
<p>Set the url to <code>https://&lt;HOSTNAME&gt;/wps/myportal</code>.</p>
</li>
<li>
<p>Click <strong>OK</strong>.</p>
</li>
<li>
<p>On the <strong>Manage Pages</strong> page, select <strong>Home</strong> page. Make sure you see the newly added <strong>Login-IdP</strong> URL. In the same row, click the <strong>Set Page Permission</strong> action.</p>
</li>
<li>
<p>On the <strong>Resource Permissions</strong> page, find the <strong>User</strong> row and click <strong>Edit Role</strong> action.</p>
</li>
<li>
<p>Click <strong>+ Add</strong> button, </p>
</li>
<li>
<p>Check the box next to <strong>Anonymous Portal User</strong> and click <strong>OK</strong>. The <strong>Anonymous Portal User</strong> role now appears in the <strong>Resource Permissions</strong> panel.</p>
</li>
</ol>
<h3 id="mapping-the-new-idp-specific-login-to-use-it">Mapping the new IdP specific login to use it</h3>
<p>Update the unique name of the new IdP specific login page so that pages referring to the login option leverage it:</p>
<ol>
<li>
<p>On the left side navigation, go to <strong>Settings &gt; Custom Unique Names</strong> and select <strong>Pages</strong> resource type.</p>
</li>
<li>
<p>Search for the <strong>Login-IdP</strong> page and click <strong>Edit unique name for Page</strong> button in the respective row.</p>
</li>
<li>
<p>In the <strong>Unique name</strong> field, set the value to <code>wps.Login</code> and then click <strong>OK</strong>.</p>
</li>
</ol>
<h2 id="testing-the-oidc-login-flow">Testing the OIDC login flow</h2>
<ol>
<li>
<p>Log out or open a private browser and navigate to <code>https://&lt;HOSTNAME&gt;/wps/portal</code>.</p>
</li>
<li>
<p>Click <strong>Log in</strong>.
   This directs you to the IdP instance login view.</p>
</li>
<li>
<p>Log in with user <code>jjones1:password</code>.
    You are directed to DX and logged in as user <code>jjones1</code>.</p>
</li>
<li>
<p>Navigate to <code>https://&lt;HOSTNAME&gt;/wps/myportal/Practitioner/Home</code> and confirm the displayed user is <code>jjones1</code>.</p>
</li>
</ol>
<h2 id="reference">Reference</h2>
<p>For more information about OIDC and Keycloak in HCL DX and HCL DS in general, refer to the open source repository <a href="https://github.com/HCL-TECH-SOFTWARE/hclds-keycloak">hclds-keycloak</a>. This repository contains Keycloak as a reference implementation of an Identity Provider (IdP) to serve as an internal validation tool for HCL Digital Solutions products. The goal of this repository is to provide a hands-on experience with common strategies, configurations, and solutions related to integrating IdPs using the OIDC authentication protocol.</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 7, 2023</span>
      
    
  </small>
</div>


  




                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../sec_auth_consideration/cache_consid/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Caching considerations" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Caching considerations
            </div>
          </div>
        </a>
      
      
        
        <a href="../wcm_secure_int_tai_auth/" class="md-footer__link md-footer__link--next" aria-label="Next: Integrating with IBM WAS TAI authentication" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Integrating with IBM WAS TAI authentication
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023, HCL Technologies Limited -  <a href="#__consent">Change cookie settings</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/HCL-TECH-SOFTWARE" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../../../..", "features": ["navigation.tabs", "navigation.indexes", "navigation.top", "navigation.instant", "search.highlight", "search.share", "search.suggest", "navigation.prune"], "search": "../../../../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>