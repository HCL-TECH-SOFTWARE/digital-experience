<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xmlns:whc="http://www.oxygenxml.com/webhelp/components" xml:lang="en-us" lang="en-us" whc:version="22.0">
    <head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta charset="UTF-8"/><meta name="DC.rights.owner" content="(C) Copyright 2022"/><meta name="copyright" content="(C) Copyright 2022"/><meta name="generator" content="DITA-OT"/><meta name="DC.type" content="concept"/><meta name="description" content="Read the installation instructions to learn how to apply a cumulative fix to a portal farm installation or to roll back the cumulative fix."/><meta name="DC.relation" scheme="URI" content="../overview/ccf_strategy95.html"/><meta name="DC.format" content="HTML5"/><meta name="DC.identifier" content="new_cf"/><meta name="DC.language" content="en-us"/>        
      <title>Cumulative fix instructions: Farm | HCL Digital Experience 9.5</title><!--  Generated with Oxygen version 23.1, build number 2021040717.  --><meta name="wh-path2root" content="../"/><meta name="wh-toc-id" content="new_cf-d10859e1192"/><meta name="wh-source-relpath" content="overview/ccf_95_farm.dita"/><meta name="wh-out-relpath" content="overview/ccf_95_farm.html"/>
    <!-- Latest compiled and minified Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="../oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css"/>
    
    <link rel="stylesheet" href="../oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css"/>
    
    <!-- Template default styles  -->
    <link rel="stylesheet" type="text/css" href="../oxygen-webhelp/app/topic-page.css?buildId=2021040717"/>
    
    
    <script type="text/javascript" src="../oxygen-webhelp/lib/jquery/jquery-3.5.1.min.js"><!----></script>
    
    <script data-main="../oxygen-webhelp/app/topic-page.js" src="../oxygen-webhelp/lib/requirejs/require.js"></script>
<link rel="stylesheet" type="text/css" href="../oxygen-webhelp/template/cobalt.css?buildId=2021040717"/></head>

    <body id="new_cf" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            Jump to main content
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header" whc:version="23.1">
    <div class="container-fluid">
        <div class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <!--
                            This component will be generated when the next parameters are specified in the transformation scenario:
                            'webhelp.logo.image' and 'webhelp.logo.image.target.url'.
                            See: http://oxygenxml.com/doc/versions/17.1/ug-editor/#topics/dita_webhelp_output.html.
                    -->
                    
                    <div class=" wh_publication_title "><a href="../index.html"><span class="title"><span class="ph">HCL Digital Experience 9.5</span></span></a></div>
                    
                </div>
                
                <!-- The menu button for mobile devices is copied in the output only when the 'webhelp.show.top.menu' parameter is set to 'yes' -->
                <button type="button" data-target="#wh_top_menu_and_indexterms_link" id="wh_menu_mobile_button" data-toggle="collapse" class="navbar-toggler collapsed wh_toggle_button" aria-expanded="false" aria-label="Toggle menu" aria-controls="wh_top_menu_and_indexterms_link">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                <nav class=" wh_top_menu " aria-label="Menu Container"><ul role="menubar" aria-label="Menu"><li role="menuitem" aria-haspopup="true" aria-expanded="false" class="has-children"><span id="kc_welcome-d10859e12-mi" data-tocid="kc_welcome-d10859e12" data-state="not-ready" class=" topicref " data-id="kc_welcome"><span class="title"><a href="../welcome/wp95_welcome.html">HCL Digital Experience 9.5</a></span></span></li></ul></nav>
                <div class=" wh_indexterms_link "><a href="../indexTerms.html" title="Index" aria-label="Go to index terms page"><span>Index</span></a></div>
                
            </div>
        </div>
    </div>
</header>
        
        
         
        
        <!-- Search form -->
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="../search.html"><div><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required"/><button type="submit" class="wh_search_button" aria-label="Search"><span class="search_input_text">Search</span></button></div></form>
            
            
            
        </div>
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="../index.html"><span>Home</span></a></span></li><li><span class="topicref" data-id="kc_welcome"><span class="title"><a href="../welcome/wp95_welcome.html">HCL Digital Experience 9.5</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Welcome to the documentation for HCL Digital Experience                 9.5. Learn how to install, configure, troubleshoot, maintain and use Version 9.5 of                 HCL Digital Experience.</p></span></span></span></li><li><span class="topicref" data-id="concept_xkw_flt_1qb"><span class="title"><a href="../containerization/dx_non_container.html">Digital Experience on non-containerized platforms</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Learn how to deploy HCL Digital Experience as a non-containerized application and         optimize web content and applications to deliver differentiated, personalized experiences         for your customers.</p></span></span></span></li><li><span class="topicref" data-id="new_cf"><span class="title"><a href="../overview/ccf_strategy95.html">Combined Cumulative Fix (CF) installation</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">The Combined Cumulative Fix is a package of HCL Digital Experience fixes. Read the     instructions to learn how to apply or roll back a combined cumulative fix. </p></span></span></span></li><li class="active"><span class="topicref" data-id="new_cf"><span class="title"><a href="../overview/ccf_95_farm.html">Cumulative fix instructions: Farm</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Read the installation instructions to learn how to apply a cumulative fix to a portal farm installation or to roll back the cumulative fix.</p></span></span></span></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="Collapse sections" title="Collapse sections"></button>
                        <div class=" wh_navigation_links "><span id="topic_navigation_links" class="navheader">
  </span></div>
                        
                        <!-- External resource link -->
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div>
                        
                        <!-- Expand/Collapse publishing TOC 
                             The menu button for mobile devices is copied in the output only when the publication TOC is available
                        -->
                        <button type="button" data-target="#wh_publication_toc" id="wh_toc_button" data-toggle="collapse" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        
                        <nav id="wh_publication_toc" class="collapse col-lg-3 col-md-3 col-sm-12 d-md-block d-print-none" aria-label="Table of Contents Container">
                            <div class=" wh_publication_toc " data-tooltip-position="right"><ul role="tree" aria-label="Table of Contents"><span class="expand-button-action-labels"><span id="button-expand-action" aria-label="Expand"></span><span id="button-collapse-action" aria-label="Collapse"></span><span id="button-pending-action" aria-label="Pending"></span></span><li role="treeitem" aria-expanded="true"><span data-tocid="kc_welcome-d10859e12" class="topicref" data-id="kc_welcome" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action kc_welcome-d10859e12-link" class="wh-expand-btn"></span><span class="title"><a href="../welcome/wp95_welcome.html" id="kc_welcome-d10859e12-link">HCL Digital Experience 9.5</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Welcome to the documentation for HCL Digital Experience                 9.5. Learn how to install, configure, troubleshoot, maintain and use Version 9.5 of                 HCL Digital Experience.</p></span></span></span><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="true"><span data-tocid="concept_xkw_flt_1qb-d10859e23" class="topicref" data-id="concept_xkw_flt_1qb" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action concept_xkw_flt_1qb-d10859e23-link" class="wh-expand-btn"></span><span class="title"><a href="../containerization/dx_non_container.html" id="concept_xkw_flt_1qb-d10859e23-link">Digital Experience on non-containerized platforms</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Learn how to deploy HCL Digital Experience as a non-containerized application and         optimize web content and applications to deliver differentiated, personalized experiences         for your customers.</p></span></span></span><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><span data-tocid="installing_parent2-d10859e34" class="topicref" data-id="installing_parent2" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action installing_parent2-d10859e34-link" class="wh-expand-btn"></span><span class="title"><a href="../install/installing_parent2.html" id="installing_parent2-d10859e34-link">Installing HCL Digital Experience</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Review the planning information on HCL Digital Experience, then select your operating     system and installation pattern that most reflects your business needs.</p></span></span></span></li><li role="treeitem" aria-expanded="true"><span data-tocid="new_cf-d10859e1159" class="topicref" data-id="new_cf" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action new_cf-d10859e1159-link" class="wh-expand-btn"></span><span class="title"><a href="../overview/ccf_strategy95.html" id="new_cf-d10859e1159-link">Combined Cumulative Fix (CF) installation</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">The Combined Cumulative Fix is a package of HCL Digital Experience fixes. Read the     instructions to learn how to apply or roll back a combined cumulative fix. </p></span></span></span><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><span data-tocid="new_cf-d10859e1170" class="topicref" data-id="new_cf" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="../overview/ccf_95_standalone.html" id="new_cf-d10859e1170-link">Cumulative fix instructions: Stand-alone</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Read the installation instructions to learn how to apply a cumulative fix to a stand-alone portal  installation or to roll back the cumulative fix.</p></span></span></span></li><li role="treeitem"><span data-tocid="new_cf-d10859e1181" class="topicref" data-id="new_cf" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="../overview/ccf_95_cluster.html" id="new_cf-d10859e1181-link">Cumulative fix instructions: Cluster</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Read the installation instructions to learn how to apply a cumulative fix to a clustered portal installation or to roll back the cumulative fix. </p></span></span></span></li><li role="treeitem" class="active"><span data-tocid="new_cf-d10859e1192" class="topicref" data-id="new_cf" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="../overview/ccf_95_farm.html" id="new_cf-d10859e1192-link">Cumulative fix instructions: Farm</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Read the installation instructions to learn how to apply a cumulative fix to a portal farm installation or to roll back the cumulative fix.</p></span></span></span></li><li role="treeitem"><span data-tocid="new_cf-d10859e1203" class="topicref" data-id="new_cf" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="../overview/ccf_95_remote_search.html" id="new_cf-d10859e1203-link">Cumulative fix instructions: Remote search</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Read the installation instructions to learn how to apply a cumulative fix to a portal remote search installation or to roll back the cumulative fix.</p></span></span></span></li><li role="treeitem"><span data-tocid="new_cf-d10859e1214" class="topicref" data-id="new_cf" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="../overview/ccf_95_health_checker.html" id="new_cf-d10859e1214-link">Cumulative Fix Health Checker</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">These instructions are for the HCL Digital Experience Combined Cumulative Fix Health Checker.</p></span></span></span></li><li role="treeitem"><span data-tocid="new_cf-d10859e1225" class="topicref" data-id="new_cf" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="../overview/ccf_95_known_issues.html" id="new_cf-d10859e1225-link">Known Issues for the Combined Cumulative Fix</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Learn what are the known issues in the HCL Digital Experience           Combined Cumulative Fixes.</p></span></span></span></li></ul></li><li role="treeitem" aria-expanded="false"><span data-tocid="i_wadm_c_bkup_restr_winlinux-d10859e1236" class="topicref" data-id="i_wadm_c_bkup_restr_winlinux" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action i_wadm_c_bkup_restr_winlinux-d10859e1236-link" class="wh-expand-btn"></span><span class="title"><a href="../admin-system/i_wadm_c_bkup_restr_winlinux.html" id="i_wadm_c_bkup_restr_winlinux-d10859e1236-link">Backup and restore</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Backup and recovery of data files and databases is an essential operation for     any business system, particularly for data and applications that run in production environments.     Create and follow a plan for backing up and recovering data on all tiers of your HCL Digital     Experience deployment. IBM Installation Manager must also be included in backup and recovery     planning. If you back up the HCL Portal file structure and then install a fix pack, your HCL Digital     Experience and IBM Installation Manager become out of sync after you restore the HCL Portal file     system. This condition is not recoverable.</p></span></span></span></li><li role="treeitem" aria-expanded="false"><span data-tocid="migrating_parent-d10859e1418" class="topicref" data-id="migrating_parent" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action migrating_parent-d10859e1418-link" class="wh-expand-btn"></span><span class="title"><a href="../migrate/migration.html" id="migrating_parent-d10859e1418-link">Migrating</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Successful migration requires significant planning and preparation, understanding the     tools that are involved, and careful execution of the appropriate steps in the order     provided.</p></span></span></span></li><li role="treeitem" aria-expanded="false"><span data-tocid="site_setup-d10859e3484" class="topicref" data-id="site_setup" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action site_setup-d10859e3484-link" class="wh-expand-btn"></span><span class="title"><a href="../site/site_setup.html" id="site_setup-d10859e3484-link">Setting up a website</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Setting up a website includes, creating pages, adding navigation, setting up search, and adding content to the site. Themes are used to customize the portal's look-and-feel. Out-of-the-box templates and the site wizard can help you set up your portal site faster. You can add wikis and blogs to your site and let users tag and rate content on your site.</p></span></span></span></li><li role="treeitem" aria-expanded="false"><span data-tocid="dep_intr-d10859e10947" class="topicref" data-id="dep_intr" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action dep_intr-d10859e10947-link" class="wh-expand-btn"></span><span class="title"><a href="../deploy/dep_intr.html" id="dep_intr-d10859e10947-link">Staging to production</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc"> During portal solution development, the solution is initially developed, tested, and refined on one server or a limited number of servers. The solution is deployed later on live systems, referred to as the production environment. The process of moving the solution from the development environment to the production environment is called staging. </p></span></span></span></li><li role="treeitem" aria-expanded="false"><span data-tocid="ctc_intro-d10859e11243" class="topicref" data-id="ctc_intro" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action ctc_intro-d10859e11243-link" class="wh-expand-btn"></span><span class="title"><a href="../ctc/ctc_intro.html" id="ctc_intro-d10859e11243-link">Content Template Catalog 4.4</a><span class="wh-tooltip"><p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">The Content Template (CTC) is a set of templates that accelerate the process of building     a website.</p></span></span></span></li></ul></li></ul></li></ul></div>
                        </nav>
                        
                    
                    
                    <div class="col-lg-7 col-md-9 col-sm-12" id="wh_topic_body">
                        
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="ariaid-title1">
<h1 class="- topic/title title topictitle1" id="ariaid-title1">Cumulative fix instructions: Farm | HCL Digital Experience 9.5</h1>

	
<div class="- topic/body concept/conbody body conbody"><p class="- topic/shortdesc shortdesc">Read the installation instructions to learn how to apply a cumulative fix to a portal
farm installation or to roll back the cumulative fix.</p>
<section class="- topic/section section" id="new_cf__about_CCF85_90" data-ofbid="new_cf__about_CCF85_90"><h2 class="- topic/title title sectiontitle">About HCL Portal 8.5 and 9.0 Combined Cumulative Fixes</h2>

<p class="- topic/p p">This cumulative fix can only be applied to an existing functional version of HCL Portal 8.5 and 9.0 with a previous cumulative fix
 applied.</p>
<p class="- topic/p p">As of CF14, this cumulative fix can also be applied to either an 8.5 environment above, or
on top of a 9.0 level as well.</p>
</section>
<section class="- topic/section section" id="new_cf__overview_cf_farm_85" data-ofbid="new_cf__overview_cf_farm_85"><h2 class="- topic/title title sectiontitle">Overview</h2>

<p class="- topic/p p"> Applying the cumulative fix is a multi-step process. You must first update the product files
using IBM Installation Manager, and then you must use the Portal ConfigEngine tool to apply the
changes to each profile in your system. The update is not complete until you have performed both
steps! Likewise, to roll back a fix, you must first use IBM Installation Manager to restore the
older product files and then use ConfigEngine to apply the rollback to each profile.</p>
<p class="- topic/p p">The procedures below describe these steps in detail.</p>
<p class="- topic/p p">9.0 Note: After CF13 or later is fully installed and Portal runtime is operational, HCL Portal
				9.0 can be installed. Visit <strong class="+ topic/ph hi-d/b ph b"><a class="- topic/xref xref" href="../welcome/wp9_welcome.html" title="Learn how to install, configure, troubleshoot, maintain and use Version 9.0 of HCL Web Content Manager and HCL Portal Server, Enable, and Extend.">HCL Digital Experience 9.0
						Product Documentation</a></strong> for product base documentation on concepts,
				instructions, procedures, tips to configure, maintain, troubleshoot and use HCL
				Digital Experience.</p>
<p class="- topic/p p">9.5 Note: After CF17 or later is fully installed and Portal runtime is operational, HCL
	Portal 9.5 can be installed. Visit <strong class="+ topic/ph hi-d/b ph b"><a class="- topic/xref xref" href="../welcome/wp95_welcome.html" title="Welcome to the documentation for HCL Digital Experience 9.5. Learn how to install, configure, troubleshoot, maintain and use Version 9.5 of HCL Digital Experience.">HCL Digital Experience
9.5 Product Documentation</a></strong> for instructions, procedures, tips to configure,
maintain, troubleshoot and use the latest version of HCL Digital Experience.</p>
</section>
<section class="- topic/section section" id="new_cf__section_k5y_gbv_hnb" data-ofbid="new_cf__section_k5y_gbv_hnb"><h2 class="- topic/title title sectiontitle">Before you begin</h2>
			
			<div class="- topic/note note note note_note"><span class="note__title">Note:</span> Unless you are migrating from a previous release or plan to add this node to an
				existing cluster, you must create your Portal profile before applying the cumulative
				fix. If you did not do this during the initial installation, you can use the
				Configuration Wizard to do so now. Portal 8.5 CF12 or later introduces support for
				JDK8. However, if you plan to use JDK 8 with your profile, you must first create the
				profile using JDK 7 and then upgrade to JDK 8 after applying the cumulative
				fix.</div>
			<div class="- topic/note note note note_note"><span class="note__title">Note:</span> In Portal 8.5 CF12 or later, the blacklist settings have become more restrictive.
				For inquiries, go to <a class="- topic/xref xref" href="https://support.hcltechsw.com/csm" target="_blank" rel="external noopener">HCL Software Support</a> page.</div>
		</section>
		<section class="- topic/section section" id="new_cf__section_url_3bv_hnb" data-ofbid="new_cf__section_url_3bv_hnb"><h2 class="- topic/title title sectiontitle">Space Requirements</h2>
			
			<div class="- topic/p p">Ensure that enough disk space is available in the following directories: <ul class="- topic/ul ul" id="new_cf__ul_uff_jbv_hnb" data-ofbid="new_cf__ul_uff_jbv_hnb">
					<li class="- topic/li li">For all platforms: 2.0 GB in the download directory to download the
						cumulative fix, 1.5 GB in <code class="+ topic/ph pr-d/codeph ph codeph">Portal_Install_Root</code>, 1 GB
						temporary disk space in <code class="+ topic/ph pr-d/codeph ph codeph">(wp_profile_root)</code>, and 1.66 GB in
						the shared data space, which is the directory where Installation Manager
						temporarily stores downloaded files for use during the update.</li>
					<li class="- topic/li li">For Solaris: It is recommended that you allocate swap space equal to at
						least twice your physical RAM to avoid memory errors during the
						configuration of this cumulative fix.</li>
				</ul></div>
		</section>
<section class="- topic/section section" id="new_cf__best_practices_cf_farm_85" data-ofbid="new_cf__best_practices_cf_farm_85"><h2 class="- topic/title title sectiontitle">Best Practices</h2>

	<p class="- topic/p p">Go to the <a class="- topic/xref xref" href="https://support.hcltechsw.com/csm" target="_blank" rel="external noopener">HCL Software Support</a> page for Portal Upgrade Best Practices.</p>
</section>
<section class="- topic/section section" id="new_cf__syndicator_subscriber_cf_farm_85" data-ofbid="new_cf__syndicator_subscriber_cf_farm_85"><h2 class="- topic/title title sectiontitle">Syndicator/Subscriber Information</h2>

<p class="- topic/p p">It is recommended that servers utilizing syndication have associated syndicators and subscribers
disabled prior to installing the cumulative fixpack.</p>
<p class="- topic/p p">Otherwise syndication updates that run during install may clash with install modifications and
can cause the CF update to fail.</p>
<p class="- topic/p p">Syndicators and subscribers can be disabled by editing them in the syndication administration
portlet. Go to the <a class="- topic/xref xref" href="../panel_help/wcm_reference_syndicatorfields.html">Syndicators</a> and <a class="- topic/xref xref" href="../panel_help/wcm_reference_subscriberfields.html">Subscribers</a> topic pages in the HCL Digital Experience Version
8.5 product documentation for more information. Syndication should then be re-enabled after the
update is complete.</p>
<div class="- topic/p p">Alternatively, the following ConfigEngine tasks have also been integrated into CF09 or later to
				globally disable and enable syndication (These tasks can be used in place of the
				manual updates linked above: <ul class="- topic/ul ul">
					<li class="- topic/li li"><span class="+ topic/ph sw-d/filepath ph filepath">&lt;wp_profile root&gt;/ConfigEngine/ConfigEngine.sh|.bat
							disable-syndication-auto-scheduler</span></li>
					<li class="- topic/li li"><span class="+ topic/ph sw-d/filepath ph filepath">&lt;wp_profile root&gt;/ConfigEngine/ConfigEngine.sh|.bat
							enable-syndication-auto-scheduler</span></li>
				</ul></div>
</section>
<section class="- topic/section section" id="new_cf__search_crawler_information_85_cf_farm" data-ofbid="new_cf__search_crawler_information_85_cf_farm"><h2 class="- topic/title title sectiontitle">Search Crawler Information</h2>

<p class="- topic/p p">It is recommended that any search crawlers are disabled before applying the CF. If a CF is
applied at the same time the crawler is running, this may corrupt the search collection. The search
crawler should be restarted after the CF update is complete.</p>
</section>
<section class="- topic/section section" id="new_cf__backing_up_installation_manager_data" data-ofbid="new_cf__backing_up_installation_manager_data"><h2 class="- topic/title title sectiontitle">Backing up the Installation Manager data</h2>

<p class="- topic/p p">Backup the contents of the IBM Installation Manager data directory on the server you are
upgrading in the event you lose connection during the upgrade, as this could corrupt the data
directory.</p>
<div class="- topic/p p">The default locations of these directories are: <ul class="- topic/ul ul">
<li class="- topic/li li">Windows: <span class="+ topic/ph sw-d/filepath ph filepath">C:\ProgramData\IBM\InstallationManager</span></li>
<li class="- topic/li li">Linux/UNIX root users: <span class="+ topic/ph sw-d/filepath ph filepath">/var/ibm/InstallationManager</span></li>
<li class="- topic/li li">Linux/UNIX non-root users: <span class="+ topic/ph sw-d/filepath ph filepath">/home/(user id)/var/ibm/InstallationManager</span></li>
<li class="- topic/li li">IBM i: Installation location: <span class="+ topic/ph sw-d/filepath ph filepath">/QIBM/ProdData/InstallationManager</span></li>
<li class="- topic/li li">IBM i: Agent data location: <span class="+ topic/ph sw-d/filepath ph filepath">/QIBM/UserData/InstallationManager</span></li>
</ul></div>
</section>
<section class="- topic/section section" id="new_cf__known_issues_cf_farm_85" data-ofbid="new_cf__known_issues_cf_farm_85"><h2 class="- topic/title title sectiontitle">Known Issues</h2>

<p class="- topic/p p">Review the <a class="- topic/xref xref" href="ccf_95_known_issues.html" title="Learn what are the known issues in the HCL Digital Experience Combined Cumulative Fixes.">Known issues for
					combined cumulative fix</a> topic page to be aware of any known issues for
				the HCL Portal Version 9.5 CF releases.</p>
</section>
<section class="- topic/section section"><h2 class="- topic/title title sectiontitle">Review supported hardware/software requirements</h2>

<p class="- topic/p p">For Portal Version 8.5 CF08 or later, the minimum recommended WebSphere Application Server level
is at least WAS 8.5.5.6 with the corresponding JDK level applied.</p>
<div class="- topic/p p">Review the <a class="- topic/xref xref" href="https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0013514&amp;sys_kb_id=17d6296a1b5df34077761fc58d4bcb03" target="_blank" rel="external noopener">Supported hardware and software
					requirements</a> article for this cumulative fix. If necessary, upgrade all
				hardware and software before applying this cumulative fix, including interim fixes
				required for WebSphere Application Server.<div class="- topic/note note note note_note"><span class="note__title">Note:</span> Ensure that the optional WebSphere
					Application Server feature "EJBDeploy tool for pre-EJB 3.0 modules" is
					installed.</div></div>
</section>
<section class="- topic/section section" id="new_cf__check_fixes_installed_system_cf_farm_85" data-ofbid="new_cf__check_fixes_installed_system_cf_farm_85"><h2 class="- topic/title title sectiontitle">Check fixes installed on your system</h2>

<p class="- topic/p p">All temporary or interim fixes on your system must be removed before installing this cumulative
fix.</p>
<p class="- topic/p p">Also check whether the fixes installed on your system are included in the list of fixes provided
in this cumulative fix. If you have temporary or interim fixes on your system that are not included
in this cumulative fix then contact <a class="- topic/xref xref" href="https://support.hcltechsw.com/csm" target="_blank" rel="external noopener">HCL Software Support</a> for an updated version of those fixes or for more
information.</p>
</section>
<section class="- topic/section section" id="new_cf__ensure_wkplc_properties_cf_farm_85" data-ofbid="new_cf__ensure_wkplc_properties_cf_farm_85"><h2 class="- topic/title title sectiontitle">Ensure <code class="+ topic/ph pr-d/codeph ph codeph">wkplc</code> properties files are correct</h2>

<p class="- topic/p p">The HCL Portal upgrade will run several ConfigEngine scripts. These scripts depend on the
<code class="+ topic/ph pr-d/codeph ph codeph">wkplc.properties</code> being up to date and accurate, particularly with the password
properties. If you are using multiple profiles, verify that the information in each profile is
correct.</p>
<div class="- topic/p p">
<ol class="- topic/ol ol">
<li class="- topic/li li">Edit the <span class="+ topic/ph sw-d/filepath ph filepath">wp_profile root&gt;/ConfigEngine/properties/wkplc.properties</span> file
						and ensure the following values are set correctly:
						<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>WasRemoteHostName=&lt;the hostname of your WAS instance&gt;
WasSoapPort=&lt;the soap port of your WAS instance&gt;
WasUserid=&lt;your WAS admin user&gt;
WasPassword=&lt;your WAS admin pwd&gt;
PortalAdminId=&lt;your Portal Admin ID&gt;
PortalAdminPwd=&lt;your Portal Admin password&gt;
WpsHostName=&lt;Your Portal hostname&gt;
WpsHostPort=&lt;The port you use to access Portal&gt;
WpsContextRoot=&lt;your Portal context root&gt;</code></pre></li>
<li class="- topic/li li">Edit the <span class="+ topic/ph sw-d/filepath ph filepath">wp_profile
							root&gt;/ConfigEngine/properties/wkplc_dbdomain.properties</span>
						file and ensure the following values are set correctly:
						<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>release.DbPassword=&lt;your database user password&gt;
community.DbPassword=&lt;your database user password&gt;
customization.DbPassword=&lt;your database user password&gt;
jcr.DbPassword=&lt;your database user password&gt;
likeminds.DbPassword=&lt;your database user password&gt;
feedback.DbPassword=&lt;your database user password&gt;</code></pre></li>
<li class="- topic/li li">Edit the <span class="+ topic/ph sw-d/filepath ph filepath">wp_profile root&gt;/ConfigEngine/properties/wkplc_comp.properties</span>
						file and ensure the following values are set correctly:
						<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>XmlAccessHost=&lt;your Portal hostname&gt;
XmlAccessPort=&lt;the port you use to access Portal&gt;</code></pre></li>
<li class="- topic/li li">Edit the <span class="+ topic/ph sw-d/filepath ph filepath">wp_profile root&gt;/ConfigEngine/properties/wkplc_comp.properties</span>
						file and ensure the following values are set correctly:
						<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>XmlAccessHost=&lt;your Portal hostname&gt;
XmlAccessPort=&lt;the port you use to access Portal&gt;</code></pre></li>
</ol>
</div>
<div class="- topic/p p">
				<div class="- topic/note note note note_note"><span class="note__title">Note:</span> In a Farm Portal environment, the <code class="+ topic/ph pr-d/codeph ph codeph">WasRemoteHostName</code> should be
					the local hostname and the <code class="+ topic/ph pr-d/codeph ph codeph">WasSoapPort</code> should be the soap port
					of the HCL Portal server.</div>
				<div class="- topic/note note note note_note"><span class="note__title">Note:</span> If your server is configured with database runtime users, for example,
						<code class="+ topic/ph pr-d/codeph ph codeph">feedback.DbRuntimeUser=&lt;your feedback database runtime
						user&gt;</code>, ensure to set their password values correctly as well,
					for example, in <code class="+ topic/ph pr-d/codeph ph codeph">feedback.DbRuntimePassword=&lt;your feedback database
						runtime user password&gt;</code>.</div>
			</div>
</section>
<section class="- topic/section section" id="new_cf__unix_linux_windows_ibmi_cf_farm_85" data-ofbid="new_cf__unix_linux_windows_ibmi_cf_farm_85"><h2 class="- topic/title title sectiontitle">Unix, Linux, Windows, and IBM i:</h2>

<div class="- topic/p p">The update process removes plain text passwords from the <span class="+ topic/ph sw-d/filepath ph filepath">wkplc*.properties</span>
				files. To keep these passwords in the properties files, include the following line
				in the <span class="+ topic/ph sw-d/filepath ph filepath">wkplc.properties</span> file:
				<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>PWordDelete=false</code></pre></div>
</section>
<section class="- topic/section section" id="new_cf__multiple_profile_considerations_cf_farm_85" data-ofbid="new_cf__multiple_profile_considerations_cf_farm_85"><h2 class="- topic/title title sectiontitle">Multiple profile considerations</h2>

<p class="- topic/p p">Verify that all of your profiles are at the same level before starting the upgrade or rollback.
				All profiles that share the same Portal installation directory (multiple profile
				option) must be manually upgraded after the IBM Installation Manager update
				completes. See the <cite class="- topic/cite cite">Additional configuration steps</cite> for details.</p>
</section>
<section class="- topic/section section" id="new_cf__non_root_considerations_cf_farm_85" data-ofbid="new_cf__non_root_considerations_cf_farm_85"><h2 class="- topic/title title sectiontitle">Non-root considerations</h2>

<div class="- topic/p p">In Unix/Linux environments, you must install the cumulative fix as the same user which you used
to install HCL Portal originally. This could be either root or a non-root user. If you need to use a
non-root user, ensure the following conditions are met: <ul class="- topic/ul ul">
<li class="- topic/li li">If you are installing as a non-root user on Unix or Linux, the <code class="+ topic/ph pr-d/codeph ph codeph">umask</code> setting
						for your login session must be set to 0022 or better.
							(<code class="+ topic/ph pr-d/codeph ph codeph">umask</code> is a setting that controls what file permissions
						are set for newly created files and directories. A value of 0022 correspond
						to permission settings of <code class="+ topic/ph pr-d/codeph ph codeph">(rwxr-xr-x)</code>.) If the
							<code class="+ topic/ph pr-d/codeph ph codeph">umask</code> is not set appropriately by default, you must set
						it when you start Installation Manager or when you open a command-line
						utility to run Installation Manager commands.</li>
<li class="- topic/li li">The non-root user has a <code class="+ topic/ph pr-d/codeph ph codeph">"ulimit - n"</code> setting of at least 18192. This must be a
						number and not <code class="+ topic/ph pr-d/codeph ph codeph">"unlimited"</code>.</li>
<li class="- topic/li li">The non-root user owns the <span class="+ topic/ph sw-d/filepath ph filepath">AppServer</span>, <span class="+ topic/ph sw-d/filepath ph filepath">PortalServer</span>,
							<span class="+ topic/ph sw-d/filepath ph filepath">ConfigEngine</span>, and <span class="+ topic/ph sw-d/filepath ph filepath">Portal</span>
						profile directories and has read/write access to all files in these
						directories. Permission settings of <code class="+ topic/ph pr-d/codeph ph codeph">755 (rwxr-xr-x)</code> are
						sufficient.</li>
<li class="- topic/li li">Do not use <code class="+ topic/ph pr-d/codeph ph codeph">"sudo"</code> or <code class="+ topic/ph pr-d/codeph ph codeph">"su"</code> to install the fix pack. Either use
						root explicitly or use a non-root user that meets the above conditions.</li>
</ul></div>
<div class="- topic/p p">To open a command-line utility to run Installation Manager commands: <ol class="- topic/ol ol">
<li class="- topic/li li">Open a command line window.</li>
<li class="- topic/li li">Run this command to check your current <code class="+ topic/ph pr-d/codeph ph codeph">umask</code> setting:
						<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>umask</code></pre></li>
<li class="- topic/li li">If necessary, run this command to set the <code class="+ topic/ph pr-d/codeph ph codeph">umask</code>:
						<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>umask 0022</code></pre></li>
</ol></div>
</section>
<section class="- topic/section section" id="new_cf__antivirus_file_indexing_windows_cf_farm_85" data-ofbid="new_cf__antivirus_file_indexing_windows_cf_farm_85"><h2 class="- topic/title title sectiontitle">Anti-virus and file indexing software considerations (Windows only)</h2>

<p class="- topic/p p">As part of the CF upgrade process, new files will be created in the WebSphere installation
directory, as well as the user's temp directory. Anti-viruses and file indexing software (like
Google Desktop) have been known to lock newly created files as they are being scanned, which can
interfere with the upgrade process. We recommend to exclude the WebSphere installation directory and
the user's temp directory from being scanned by this software during the upgrade. Or you can stop /
disable these tools for the duration of the upgrade, and re-enable them after the upgrade
completes.</p>
</section>
<section class="- topic/section section" id="new_cf__special_note_was_85514" data-ofbid="new_cf__special_note_was_85514"><h2 class="- topic/title title sectiontitle">Special note for customers using WAS 8.5.5.14</h2>

<p class="- topic/p p">Support for WebSphere Application Server v8.5.5.14 will be added in Portal Cumulative Fix 16. If
you need to apply Portal Cumulative Fix 15 or earlier to a WAS v8.5.5.14 installation, you will need
to perform an additional manual step during the upgrade.</p>
<div class="- topic/p p">After running Installation Manager to install the new Portal code but before running the
<code class="+ topic/ph pr-d/codeph ph codeph">applyCF.sh</code> or <code class="+ topic/ph pr-d/codeph ph codeph">applyCF.bat</code> command to update the Portal profile,
perform these steps: <ol class="- topic/ol ol">
<li class="- topic/li li">Open a command Window and switch to the ConfigEngine home directory. By default this is: <ul class="- topic/ul ul" id="new_cf__ul_bbs_cys_jpb" data-ofbid="new_cf__ul_bbs_cys_jpb">
							<li class="- topic/li li">Unix/Linux:
								<span class="+ topic/ph sw-d/filepath ph filepath">/opt/IBM/WebSphere/ConfigEngine</span></li>
							<li class="- topic/li li">Windows: <span class="+ topic/ph sw-d/filepath ph filepath">C:\IBM\WebSphere\ConfigEngine</span></li>
							<li class="- topic/li li">IBM i:
								<span class="+ topic/ph sw-d/filepath ph filepath">/QIBM/ProdData/WebSphere/ConfigEngine</span></li>
						</ul></li>
<li class="- topic/li li">Make a backup copy of the ConfigEngine script. This file is named
							<span class="+ topic/ph sw-d/filepath ph filepath">ConfigEngine.bat</span> for Windows and
							<span class="+ topic/ph sw-d/filepath ph filepath">ConfigEngine.sh</span> for all other platforms.</li>
<li class="- topic/li li">Make sure your user has write permissions for the script file and open it in a text editor.</li>
<li class="- topic/li li"> Look for the text <code class="+ topic/ph pr-d/codeph ph codeph">EJBDEPLOY_JAVA_HOME</code> in the script. If you do not find it, no
further action is necessary and you can continue with the installation. If you do find it, delete
every line that contains the text <code class="+ topic/ph pr-d/codeph ph codeph">EJBDEPLOY_JAVA_HOME</code> anywhere in the line. (There
should be 3 such lines in the .sh script and 2 lines in the .bat script.)</li>
<li class="- topic/li li">Save the file.</li>
</ol></div>
<p class="- topic/p p">You may now continue with the installation of the Portal CF.</p>
</section>
<section class="- topic/section section" id="new_cf__download_cf_farm_85_hcl_dx" data-ofbid="new_cf__download_cf_farm_85_hcl_dx"><h2 class="- topic/title title sectiontitle">Download the cumulative fix</h2>

<div class="- topic/p p">If you are installing the cumulative fix using a live repository,
then you do not need to download the cumulative fix to your server. If you need to download the
cumulative fix, then you can follow these steps.
<ol class="- topic/ol ol">
<li class="- topic/li li">Download the latest zip file that corresponds to the installation on your system, as shown in this table.
You can also find more information about the latest fixes on the 
<a class="- topic/xref xref" href="https://www.hcltechsw.com/wps/portal/about/welcome" target="_blank" rel="external noopener">HCL Software page</a>. 
<table class="- topic/table table"><caption></caption><colgroup><col/><col/></colgroup><tbody class="- topic/tbody tbody">
<tr class="- topic/row">
<td class="- topic/entry entry colsep-0 rowsep-0">Installed Offering</td>
<td class="- topic/entry entry colsep-0 rowsep-0">HCL Portal server</td>
</tr>
<tr class="- topic/row">
<td class="- topic/entry entry colsep-0 rowsep-0">Cumulative fix to download</td>
<td class="- topic/entry entry colsep-0 rowsep-0"><ul class="- topic/sl sl simple">
<li class="- topic/sli sli"><span class="+ topic/ph sw-d/filepath ph filepath">8.5-WP-WCM-Combined-CFPInnnnn-Server-CFnn.zip</span></li>
<li class="- topic/sli sli"><span class="+ topic/ph sw-d/filepath ph filepath">8.5-9.0-WP-WCM-Combined-CFPInnnnn-Server-CFnn.zip</span> CF14 or later</li>
</ul></td>
</tr>
</tbody></table></li>
<li class="- topic/li li">Create a directory and extract the zip file(s) into this directory. Inside the zip file is a
						readme file, sample response files (Server only), and the actual cumulative
						fix file itself. The cumulative fix files are named as follows, where in
						represents the CF number associated with this cumulative fix: <ul class="- topic/sl sl simple">
							<li class="- topic/sli sli"><span class="+ topic/ph sw-d/filepath ph filepath">WP8500CFnn_Server.zip</span> (HCL Portal
								Server)</li>
						</ul></li>
<li class="- topic/li li">Create a sub-directory and extract the appropriate WP8500CFnn_ zip file to this directory. The
extraction results in a <span class="+ topic/ph sw-d/filepath ph filepath">repository.config</span> file that is used by IBM Installation Manager during the
update.</li>
</ol>
</div>
</section>
<section class="- topic/section section" id="new_cf__steps_installing_cf_farm_85" data-ofbid="new_cf__steps_installing_cf_farm_85"><h2 class="- topic/title title sectiontitle">Steps for installing the cumulative fix</h2>
<div class="- topic/p p">There are several different methods to install the cumulative fix, and they are: <ul class="- topic/ul ul">
					<li class="- topic/li li">Use a Graphical User Interface (GUI)</li>
					<li class="- topic/li li">Use a live repository via the Graphical User Interface</li>
					<li class="- topic/li li">Use a command line</li>
					<li class="- topic/li li">Use silent mode installation</li>
					<li class="- topic/li li">Use console mode installation</li>
				</ul></div>
<p class="- topic/p p"> Choose one method that is available for your system. Follow the detailed steps for that
option, and then proceed with the additional configuration steps.</p> 
</section>
<section class="- topic/section section" id="new_cf__use_gui_cf_farm_85" data-ofbid="new_cf__use_gui_cf_farm_85"><h2 class="- topic/title title sectiontitle">Use a Graphical User Interface (available on Windows, Linux, and Unix operating systems)</h2>

<div class="- topic/p p">
<ol class="- topic/ol ol">
<li class="- topic/li li">If you are running an external
web server such as IBM HTTP server, stop the web server.</li>
<li class="- topic/li li">Stop any active application servers by using the <code class="+ topic/ph pr-d/codeph ph codeph">stopServer</code> command. To see
						which application servers are active, use the <code class="+ topic/ph pr-d/codeph ph codeph">serverStatus</code>
						command from the <span class="+ topic/ph sw-d/filepath ph filepath">(wp_profile)/bin</span> directory and again
						from the <span class="+ topic/ph sw-d/filepath ph filepath">(cw_profile)/bin</span> directory: <ul class="- topic/ul ul" id="new_cf__ul_snl_kys_jpb" data-ofbid="new_cf__ul_snl_kys_jpb">
							<li class="- topic/li li">Unix/Linux: <pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./serverStatus.sh -all</code></pre></li>
							<li class="- topic/li li">Windows:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>serverStatus.bat -all</code></pre></li>
						</ul></li>
<li class="- topic/li li">Launch the IBM Installation Manager that was used to install HCL Portal V8.5.</li>
<li class="- topic/li li">Using Installation Manager, click <span class="+ topic/ph ui-d/menucascade ph menucascade"><span class="+ topic/ph ui-d/uicontrol ph uicontrol">File</span><abbr title="and then"> &gt; </abbr><span class="+ topic/ph ui-d/uicontrol ph uicontrol">Preferences</span></span>.</li>
<li class="- topic/li li">Go to the Repositories panel and click <span class="+ topic/ph ui-d/uicontrol ph uicontrol">Add Repository</span>.</li>
<li class="- topic/li li">Navigate to the <span class="+ topic/ph sw-d/filepath ph filepath">repository.config</span> file mentioned earlier and select it.</li>
<li class="- topic/li li">Select Update
and follow the prompts to update HCL Portal.</li>
<li class="- topic/li li">After installation completes, proceed with the <span class="+ topic/ph ui-d/uicontrol ph uicontrol">Additional configuration steps</span>.</li>
</ol>
</div>
</section>
<section class="- topic/section section" id="new_cf__live_repo_GUI_cf_farm" data-ofbid="new_cf__live_repo_GUI_cf_farm"><h2 class="- topic/title title sectiontitle">Use a live repository via the Graphical User Interface
(available on Windows, Linux, and Unix operating systems for CFs prior to CF17)</h2>

<div class="- topic/p p"><ol class="- topic/ol ol">
<li class="- topic/li li">If you are running an external web
server such as IBM HTTP server, stop the web server.</li>
<li class="- topic/li li">Stop any active application servers by using the <code class="+ topic/ph pr-d/codeph ph codeph">stopServer</code> command. To see
						which application servers are active, use the <code class="+ topic/ph pr-d/codeph ph codeph">serverStatus</code>
						command from the <span class="+ topic/ph sw-d/filepath ph filepath">(wp_profile)/bin directory</span> and again
						from the <span class="+ topic/ph sw-d/filepath ph filepath">(cw_profile)/bin</span> directory: <ul class="- topic/ul ul" id="new_cf__ul_bmv_pys_jpb" data-ofbid="new_cf__ul_bmv_pys_jpb">
							<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./serverStatus.sh -all</code></pre></li>
							<li class="- topic/li li">Windows:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>serverStatus.bat -all</code></pre></li>
						</ul></li>
<li class="- topic/li li">Launch
the IBM Installation Manager that was used to install HCL Portal V8.5.</li>
<li class="- topic/li li">Using Installation Manager, click <span class="+ topic/ph ui-d/menucascade ph menucascade"><span class="+ topic/ph ui-d/uicontrol ph uicontrol">File</span><abbr title="and then"> &gt; </abbr><span class="+ topic/ph ui-d/uicontrol ph uicontrol">Preferences</span></span>.</li>
<li class="- topic/li li">Go to the Repositories panel and click <span class="+ topic/ph ui-d/uicontrol ph uicontrol">Search service
repositories during installation and updates</span>.</li>
<li class="- topic/li li">Click <span class="+ topic/ph ui-d/uicontrol ph uicontrol">Apply</span>.</li>
<li class="- topic/li li">Select Update and follow the prompts to
update HCL Portal.</li>
<li class="- topic/li li">After installation completes, proceed with the <cite class="- topic/cite cite">Additional configuration steps</cite>.</li>
</ol>
</div>
</section>
<section class="- topic/section section" id="new_cf__command_line_cf_farm_85" data-ofbid="new_cf__command_line_cf_farm_85"><h2 class="- topic/title title sectiontitle">Use a command line (available on Windows, Linux, and Unix operating systems)</h2>

<div class="- topic/p p"><ol class="- topic/ol ol">
<li class="- topic/li li">If you
are running an external web server such as IBM HTTP server, stop the web server.</li>
<li class="- topic/li li">Stop any active application servers by using the <code class="+ topic/ph pr-d/codeph ph codeph">stopServer</code> command. To see
						which application servers are active, use the <code class="+ topic/ph pr-d/codeph ph codeph">serverStatus</code>
						command from the <span class="+ topic/ph sw-d/filepath ph filepath">(wp_profile)/bin</span> directory and again
						from the <span class="+ topic/ph sw-d/filepath ph filepath">(cw_profile)/bin</span> directory: <ul class="- topic/ul ul" id="new_cf__ul_w3s_tys_jpb" data-ofbid="new_cf__ul_w3s_tys_jpb">
							<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./serverStatus.sh -all</code></pre></li>
							<li class="- topic/li li">Windows: <pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>serverStatus.bat -all</code></pre></li>
						</ul></li>
<li class="- topic/li li">Open a command window and switch to the <span class="+ topic/ph sw-d/filepath ph filepath">eclipse/tools</span> sub-directory of
						Installation Manager. By default, this is: <ul class="- topic/ul ul" id="new_cf__ul_ull_wys_jpb" data-ofbid="new_cf__ul_ull_wys_jpb">
							<li class="- topic/li li">Unix/Linux:
									<span class="+ topic/ph sw-d/filepath ph filepath">/opt/IBM/InstallationManager/eclipse/tools</span></li>
							<li class="- topic/li li">Windows: <span class="+ topic/ph sw-d/filepath ph filepath">C:\Program Files\IBM\Installation
									Manager\eclipse\tools</span>
							</li>
						</ul></li>
<li class="- topic/li li">Run the following command to launch the installation program of IBM Installation Manager: NOTE:
						The commands are shown here on multiple lines for clarity, but the entire
						command must be entered on one line. Include quotation marks around file
						paths that include spaces. <ul class="- topic/ul ul" id="new_cf__ul_lh3_yys_jpb" data-ofbid="new_cf__ul_lh3_yys_jpb">
							<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./imcl install com.ibm.websphere.PORTAL.SERVER.v85 -repositories (fullpath/to/repository.config) -installationDirectory (portal_server_root) -acceptLicense</code></pre></li>
							<li class="- topic/li li">Windows:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>imcl.exe install com.ibm.websphere.PORTAL.SERVER.v85 -repositories (fullpath/to/repository.config) -installationDirectory (portal_server_root) -acceptLicense</code></pre></li>
						</ul></li>
<li class="- topic/li li">After installation completes, proceed with the <cite class="- topic/cite cite">Additional configuration steps</cite>.</li>
</ol></div>
</section>
<section class="- topic/section section" id="new_cf__use_silent_mode_cf_farm_85" data-ofbid="new_cf__use_silent_mode_cf_farm_85"><h2 class="- topic/title title sectiontitle">Use silent
mode installation (available on Windows, Linux, Unix, and IBM i operating systems)</h2>

<div class="- topic/p p">
<ol class="- topic/ol ol">
<li class="- topic/li li">If you are
running an external web server such as IBM HTTP server, stop the web server.</li>
<li class="- topic/li li">Stop any active application servers by using the stopServer command. To see which application
						servers are active, use the <code class="+ topic/ph pr-d/codeph ph codeph">serverStatus</code> command from the
							<span class="+ topic/ph sw-d/filepath ph filepath">(wp_profile)/bin</span> directory and again from the
							<span class="+ topic/ph sw-d/filepath ph filepath">(cw_profile)/bin</span> directory: <ul class="- topic/ul ul" id="new_cf__ul_mmp_czs_jpb" data-ofbid="new_cf__ul_mmp_czs_jpb">
							<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./serverStatus.sh -all</code></pre></li>
							<li class="- topic/li li">Windows: <pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>serverStatus.bat -all</code></pre></li>
							<li class="- topic/li li">IBM i:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>serverStatus -all</code></pre></li>
						</ul></li>
<li class="- topic/li li">For IBM i only, Run the following command from qshell:
						<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>chown QEJBSVR /QIBM/UserData/WebSphere/AppServer/V85/ND/profiles/cw_profile/ConfigEngine/properties/wkplc.properties</code></pre></li>
<li class="- topic/li li">Open a command window and switch to the eclipse/tools sub-directory of Installation Manager. By
						default, this is: <ul class="- topic/ul ul" id="new_cf__ul_mmw_fzs_jpb" data-ofbid="new_cf__ul_mmw_fzs_jpb">
							<li class="- topic/li li">Unix/Linux:
									<span class="+ topic/ph sw-d/filepath ph filepath">/opt/IBM/InstallationManager/eclipse/tools</span></li>
							<li class="- topic/li li">Windows: <span class="+ topic/ph sw-d/filepath ph filepath">C:\Program Files\IBM\Installation
									Manager\eclipse\tools</span></li>
							<li class="- topic/li li">IBM i:
									<span class="+ topic/ph sw-d/filepath ph filepath">/QIBM/ProdData/InstallationManager/eclipse/tools</span>
							</li>
						</ul></li>
<li class="- topic/li li">Update the sample response file that is packaged with your cumulative fix level according to the
						comments in the file. You can also record a response file to use to install
						the fix in silent mode. Go to <a class="- topic/xref xref" href="https://support.hcltechsw.com/csm" target="_blank" rel="external noopener">HCL Software Support</a> page for
						detailed instructions for recording an IBM Installation Manager response
						file. Note: The feature set listed in your response file must match the
						feature set you have installed. You cannot add or remove features during the
						cumulative fix update. The feature set listed in the sample response file
						is:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>features='ce.install,portal.binary,portal.profile'</code></pre>
						If you do not have any profiles on this node (because you are in the process
						of migration from a previous version of HCL Portal, or creating multiple
						profiles, or you originally installed Portal 8.5 as a binary install), then
						you should remove the <code class="+ topic/ph pr-d/codeph ph codeph">'portal.profile'</code> feature from this
						list: <pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>features='ce.install,portal.binary'</code></pre></li>
<li class="- topic/li li">Run the following command to install in silent mode:
						<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>imcl -acceptLicense -input (Full_path_to_your_response_file) -log (Full_Path_to_a_log_file) -showProgress</code></pre></li>
<li class="- topic/li li">After installation completes, proceed with the <cite class="- topic/cite cite">Additional configuration steps</cite>.</li>
</ol>
</div>
</section>
<section class="- topic/section section" id="new_cf__use_console_mode_cf_farm_85" data-ofbid="new_cf__use_console_mode_cf_farm_85"><h2 class="- topic/title title sectiontitle">Use Console
Mode Interface (available on Windows, Linux, Unix and IBM i operating systems)</h2>

<div class="- topic/p p"><ol class="- topic/ol ol">
<li class="- topic/li li">If you are running an
external web server such as IBM HTTP server, stop the web server.</li>
<li class="- topic/li li">Stop any active application servers by using the <code class="+ topic/ph pr-d/codeph ph codeph">stopServer</code> command. To see
						which application servers are active, use the <code class="+ topic/ph pr-d/codeph ph codeph">serverStatus</code>
						command from the <span class="+ topic/ph sw-d/filepath ph filepath">(wp_profile)/bin</span> directory and again
						from the <span class="+ topic/ph sw-d/filepath ph filepath">(cw_profile)/bin</span> directory: <ul class="- topic/ul ul" id="new_cf__ul_ntn_lzs_jpb" data-ofbid="new_cf__ul_ntn_lzs_jpb">
							<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./serverStatus.sh -all</code></pre></li>
							<li class="- topic/li li">Windows: <pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>serverStatus.bat -all</code></pre></li>
							<li class="- topic/li li">IBM i: <pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>serverStatus -all </code></pre></li>
						</ul></li>
<li class="- topic/li li">For IBM i only, Run the following command from qshell:
						<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>chown QEJBSVR /QIBM/UserData/WebSphere/AppServer/V85/ND/profiles/cw_profile/ConfigEngine/properties/wkplc.properties</code></pre></li>
<li class="- topic/li li">Open a command window and switch to the eclipse/tools sub-directory of Installation Manager. By
						default, this is: <ul class="- topic/ul ul" id="new_cf__ul_mmd_pzs_jpb" data-ofbid="new_cf__ul_mmd_pzs_jpb">
							<li class="- topic/li li">Unix/Linux:
									<span class="+ topic/ph sw-d/filepath ph filepath">/opt/IBM/InstallationManager/eclipse/tools</span></li>
							<li class="- topic/li li">Windows: <span class="+ topic/ph sw-d/filepath ph filepath">C:\Program Files\IBM\Installation
									Manager\eclipse\tools</span></li>
							<li class="- topic/li li">IBM i:
									<span class="+ topic/ph sw-d/filepath ph filepath">/QIBM/ProdData/InstallationManager/eclipse/tools</span>
							</li>
						</ul></li>
<li class="- topic/li li">Run the command to start the IBM Installation Manager in console mode: <ul class="- topic/ul ul" id="new_cf__ul_xgf_rzs_jpb" data-ofbid="new_cf__ul_xgf_rzs_jpb">
							<li class="- topic/li li">Unix/Linux:
								<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./imcl  -c</code></pre></li>
							<li class="- topic/li li">Windows:
								<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>imcl.exe -c</code></pre></li>
							<li class="- topic/li li"> IBM i: <pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./imcl  -c</code></pre></li>
						</ul></li>
<li class="- topic/li li">Complete the following steps to add the repositories: <ol class="- topic/ol ol" type="a" id="new_cf__ol_y3s_vzs_jpb" data-ofbid="new_cf__ol_y3s_vzs_jpb">
							<li class="- topic/li li">Enter <kbd class="+ topic/ph sw-d/userinput ph userinput">P</kbd> to go to the
									<span class="+ topic/ph ui-d/uicontrol ph uicontrol">Preferences</span> menu.</li>
							<li class="- topic/li li">Enter <kbd class="+ topic/ph sw-d/userinput ph userinput">1</kbd> to go to the
									<span class="+ topic/ph ui-d/uicontrol ph uicontrol">Repositories</span> menu. </li>
							<li class="- topic/li li">Enter <kbd class="+ topic/ph sw-d/userinput ph userinput">D</kbd> to add repositories.</li>
							<li class="- topic/li li">Type the path for your HCL Portal Version 8.5. CF repository
								file.</li>
							<li class="- topic/li li">Enter <kbd class="+ topic/ph sw-d/userinput ph userinput">A</kbd> to apply your repositories and return
								to the <span class="+ topic/ph ui-d/uicontrol ph uicontrol">Preferences</span> menu.</li>
							<li class="- topic/li li">Enter <kbd class="+ topic/ph sw-d/userinput ph userinput">R</kbd> to return to the Main menu. </li>
						</ol></li>
<li class="- topic/li li">Select Update and follow the prompts to update
HCL Portal. </li>
<li class="- topic/li li">After installation completes, proceed with the <cite class="- topic/cite cite">Additional configuration steps</cite>.</li>
</ol>
</div>
</section>
<section class="- topic/section section" id="new_cf__additional_config_cf_farm_85" data-ofbid="new_cf__additional_config_cf_farm_85"><h2 class="- topic/title title sectiontitle">Additional configuration steps </h2>
			
			<p class="- topic/p p">If you have any profiles the following configuration steps are mandatory. If you do
				not have any profiles at this point (because you are in the process of migration
				from a previous version of HCL Portal), no additional configuration steps are
				necessary and you can continue with the <cite class="- topic/cite cite">Post installation steps</cite>. </p>
			<div class="- topic/p p">If you are in the process of a migration, you will need to follow these additional
				configuration steps after running upgrade-profile for your migrated
					environment.<div class="- topic/note note note note_note"><span class="note__title">Note:</span> The following configuration steps should be run as the user
					who normally administers the Portal Server, which may or may not be the same
					user who runs the installation program.<ul class="- topic/ul ul" id="new_cf__ul_xv2_f1t_jpb" data-ofbid="new_cf__ul_xv2_f1t_jpb">
						<li class="- topic/li li">Linux, Unix, Windows or IBM i - Use the following commands to update all
							profiles. These steps must be repeated for each profile, if multiple
							profiles exist. All profiles that share the same Portal installation
							directory (multiple profile option) must be at the same level for future
							upgrades to be applied. </li>
					</ul></div><div class="- topic/note note note note_note"><span class="note__title">Note:</span> If a remote search server is used within this environment, it
					should be started before running the following commands. Also, if a WAS update
					has occurred prior to running the CF update, it is recommended to run the
					following
					task:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>(profile_root)/bin/osgiCfgInit.sh|bat </code></pre></div><div class="- topic/note note note note_note"><span class="note__title">Note:</span> To
					skip regeneration of the profile template, add the following flag to the CF
					update command: ex.
					<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>applyCF.sh -Dskip.profile.template.update=true</code></pre>
					If an updated template is needed at a later time, this command can be run to do
					so at any time: ex.
					<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>ConfigEngine.sh
cf-create-profile-templates</code></pre>Ensure
					the HCL Portal server is stopped on the profile you intend to
					upgrade.</div></div>
		</section>
		<section class="- topic/section section" id="new_cf__section_qsm_k1t_jpb" data-ofbid="new_cf__section_qsm_k1t_jpb"><h2 class="- topic/title title sectiontitle">On the Farm Master Server</h2>Execute the
			following command from within the path of the profile to configure: <div class="- topic/note note note note_note"><span class="note__title">Note:</span> If you are
				installing the CF on an empty portal, see <cite class="- topic/cite cite">Special Considerations</cite> below
				before running applyCF:</div><ul class="- topic/ul ul" id="new_cf__ul_ipm_k1t_jpb" data-ofbid="new_cf__ul_ipm_k1t_jpb">
				<li class="- topic/li li">Unix/Linux:
					<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>(profile_root)/PortalServer/bin/applyCF.sh -DPortalAdminPwd=(password) -DWasPassword=(password)</code></pre></li>
				<li class="- topic/li li">Windows:
					<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>(profile_root)\PortalServer\bin\applyCF.bat -DPortalAdminPwd=(password -DWasPassword=(password)</code></pre></li>
				<li class="- topic/li li">IBM i:
					<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>(profile_root)/PortalServer/bin/applyCF.sh -DPortalAdminPwd=(password) -DWasPassword=(password)</code></pre></li>
			</ul><strong class="+ topic/ph hi-d/b ph b"> Important</strong>: If the applyCF command fails for any reason, check the error
			logs and correct error conditions before re-running.</section>
		<section class="- topic/section section" id="new_cf__section_nyl_q1t_jpb" data-ofbid="new_cf__section_nyl_q1t_jpb"><h2 class="- topic/title title sectiontitle">Special Consideration for empty portals</h2>If
			you are installing the CF on an empty portal then extra steps are required to avoid
			upgrade errors. <ul class="- topic/ul ul" id="new_cf__ul_jpm_k1t_jpb" data-ofbid="new_cf__ul_jpm_k1t_jpb">
				<li class="- topic/li li">If you have created any custom content on top of the empty portal, you must
					first use XMLAccess to export the Portal content. From the
						<span class="+ topic/ph sw-d/filepath ph filepath">wp_profile_root/PortalServer/bin</span> directory run:
					<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>xmlaccess.bat/sh -user Portal_admin_user -password Portal_admin_password -url http://&lt;myhost&gt;:&lt;port&gt;/wps/config -in &lt;Portal home&gt;/doc/xml-samples/Export.xml -out result.xml</code></pre></li>
				<li class="- topic/li li">Upgrade the portal profile to the new CF level. Because many of the expected
					artifacts will not exist in an empty portal, you must define the
						<code class="+ topic/ph pr-d/codeph ph codeph">"isEmptyPortal"</code> property when performing this step: <ul class="- topic/ul ul" id="new_cf__ul_o5f_51t_jpb" data-ofbid="new_cf__ul_o5f_51t_jpb">
						<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;/PortalServer/bin/applyCF.sh -DisEmptyPortal=true -DPortalAdminPwd=&lt;password&gt; -DWasPassword=&lt;password&gt;</code></pre></li>
						<li class="- topic/li li">Windows:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;\PortalServer\bin\applyCF.bat -DisEmptyPortal=true -DPortalAdminPwd=&lt;password&gt; -DWasPassword=&lt;password&gt;</code></pre></li>
						<li class="- topic/li li">IBM
							i:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;/PortalServer/bin/applyCF.sh -DisEmptyPortal=true -DPortalAdminPwd=&lt;password&gt; -DWasPassword=&lt;password&gt;</code></pre></li>
					</ul><strong class="+ topic/ph hi-d/b ph b">Important</strong>: If the applyCF command fails for any reason, check the
					error logs and correct error conditions before continuing.</li>
				<li class="- topic/li li"> Following a successful run of the applyCF script, re-run the empty-portal task
					to remove Portal artifacts that were reintroduced with the CF, as these may
					cause runtime errors. <ul class="- topic/ul ul" id="new_cf__ul_wvp_y1t_jpb" data-ofbid="new_cf__ul_wvp_y1t_jpb">
						<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;/ConfigEngine/ ./ConfigEngine.sh empty-portal -DWasPassword=&lt;password&gt; -DPortalAdminPwd=&lt;password&gt;</code></pre></li>
						<li class="- topic/li li">Windows:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;/ConfigEngine/ ConfigEngine.bat empty-portal -DWasPassword=&lt;password&gt; -DPortalAdminPwd=&lt;password&gt;</code></pre></li>
						<li class="- topic/li li">IBM
							i:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;/ConfigEngine/ ConfigEngine.sh empty-portal -DWasPassword=&lt;password&gt; -DPortalAdminPwd=&lt;password&gt;</code></pre></li>
					</ul></li>
				<li class="- topic/li li">If you exported custom content in step #1 above, you can now use XMLAccess to
					re-import that content. From the
						<span class="+ topic/ph sw-d/filepath ph filepath">wp_profile_root/PortalServer/bin</span> directory
					run:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>xmlaccess.bat/sh -user &lt;Portal_admin_user&gt; -password &lt;Portal_admin_password&gt; -url http://&lt;myhost&gt;:&lt;port&gt;/wps/config -in result.xml -out importResults.xml</code></pre></li>
			</ul></section>
		<section class="- topic/section section" id="new_cf__section_xg4_dbt_jpb" data-ofbid="new_cf__section_xg4_dbt_jpb"><h2 class="- topic/title title sectiontitle">Farm Support Server setup</h2>
			
			<div class="- topic/p p">On the Farm Support Server execute the following command from within the path of the
				profile to configure. <div class="- topic/note note note note_note"><span class="note__title">Note:</span> If the Farm Support Server only has read-only access to
					the Portal Binaries use the <code class="+ topic/ph pr-d/codeph ph codeph">-DSharedBinaries=true</code> flag with the
					applyCF command.</div><div class="- topic/note note note note_note"><span class="note__title">Note:</span> If you are installing the CF on an empty portal,
					see the <cite class="- topic/cite cite">Special Considerations</cite> below before running applyCF.
					</div><ul class="- topic/ul ul" id="new_cf__ul_ycg_hbt_jpb" data-ofbid="new_cf__ul_ycg_hbt_jpb">
					<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;/PortalServer/bin/applyCF.sh -DPortalAdminPwd=&lt;password&gt; -DWasPassword=&lt;password&gt;</code></pre></li>
					<li class="- topic/li li">Windows:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;\PortalServer\bin\applyCF.bat -DPortalAdminPwd=&lt;password&gt; -DWasPassword=&lt;password&gt;</code></pre></li>
					<li class="- topic/li li">IBM
						i:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;/PortalServer/bin/applyCF.sh -DPortalAdminPwd=&lt;password&gt; -DWasPassword=&lt;password&gt;</code></pre></li>
				</ul>
				<strong class="+ topic/ph hi-d/b ph b">Important</strong>: If the applyCF command fails for any reason, check the error logs
				and correct error conditions before re-running. </div>
		</section>
		<section class="- topic/section section" id="new_cf__section_xfm_lbt_jpb" data-ofbid="new_cf__section_xfm_lbt_jpb"><h2 class="- topic/title title sectiontitle">Special Consideration for empty portals</h2> If
			you are installing the CF on an empty portal then extra steps are required to avoid
			upgrade errors. <ul class="- topic/ul ul" id="new_cf__ul_kpm_k1t_jpb" data-ofbid="new_cf__ul_kpm_k1t_jpb">
				<li class="- topic/li li"> If you have created any custom content on top of the empty portal, you must
					first use XMLAccess to export the Portal content. From the
						<span class="+ topic/ph sw-d/filepath ph filepath">wp_profile_root/PortalServer/bin</span> directory
					run:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>xmlaccess.bat/sh -user Portal_admin_user -password Portal_admin_password -url http://&lt;myhost&gt;:&lt;port&gt;/wps/config -in &lt;Portal home&gt;/doc/xml-samples/Export.xml -out result.xml</code></pre></li>
				<li class="- topic/li li">Upgrade the portal profile to the new CF level. Because many of the expected
					artifacts will not exist in an empty portal, you must define the "isEmptyPortal"
					property when performing this step: <ul class="- topic/ul ul" id="new_cf__ul_sdt_nbt_jpb" data-ofbid="new_cf__ul_sdt_nbt_jpb">
						<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;/PortalServer/bin/applyCF.sh -DisEmptyPortal=true -DPortalAdminPwd=&lt;password&gt; -DWasPassword=&lt;password&gt;</code></pre></li>
						<li class="- topic/li li">Windows:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;\PortalServer\bin\applyCF.bat -DisEmptyPortal=true -DPortalAdminPwd=&lt;password&gt; -DWasPassword=&lt;password&gt;</code></pre></li>
						<li class="- topic/li li">IBM
							i:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;/PortalServer/bin/applyCF.sh -DisEmptyPortal=true -DPortalAdminPwd=&lt;password&gt; -DWasPassword=&lt;password&gt;</code></pre></li>
					</ul><strong class="+ topic/ph hi-d/b ph b">Important</strong>: If the applyCF command fails for any reason, check the
					error logs and correct error conditions before continuing. </li>
				<li class="- topic/li li">Following a successful run of the applyCF script, re-run the empty-portal task
					to remove Portal artifacts that were reintroduced with the CF, as these may
					cause runtime errors. <ul class="- topic/ul ul" id="new_cf__ul_m2m_rbt_jpb" data-ofbid="new_cf__ul_m2m_rbt_jpb">
						<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;/ConfigEngine/ ./ConfigEngine.sh empty-portal -DWasPassword=&lt;password&gt; -DPortalAdminPwd=&lt;password&gt;</code></pre></li>
						<li class="- topic/li li">Windows:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;/ConfigEngine/ ConfigEngine.bat empty-portal -DWasPassword=&lt;password&gt; -DPortalAdminPwd=&lt;password&gt;</code></pre></li>
						<li class="- topic/li li">IBM i:</li>
					</ul><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;/ConfigEngine/  ConfigEngine.sh empty-portal -DWasPassword=&lt;password&gt; -DPortalAdminPwd=&lt;password&gt;</code></pre></li>
				<li class="- topic/li li">If you exported custom content in step #1 above, you can now use XMLAccess to
					re-import that content. From the
						<span class="+ topic/ph sw-d/filepath ph filepath">wp_profile_root/PortalServer/bin</span> directory run:
					<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>xmlaccess.bat/sh -user &lt;Portal_admin_user&gt; -password &lt;Portal_admin_password&gt; -url http://&lt;myhost&gt;:&lt;port&gt;/wps/config -in result.xml -out importResults.xml</code></pre></li>
			</ul></section>
<section class="- topic/section section" id="new_cf__post_installation_steps_cf_farm_85" data-ofbid="new_cf__post_installation_steps_cf_farm_85"><h2 class="- topic/title title sectiontitle">Post installation steps</h2>

<div class="- topic/p p">1. If you are running an external web server such as IBM HTTP Server and you are using the
				WebSphere Application Server automatic generation and propagation of the plug-in,
				then restart the web server. If you are not using the automatic generation and
				propagation, then perform the following steps: <ul class="- topic/ul ul">
					<li class="- topic/li li">Regenerate the web server plug-in.</li>
					<li class="- topic/li li">Copy the plugin-cfg.xml file to the plugin directory.</li>
					<li class="- topic/li li">Restart the web server.</li>
				</ul></div>
<p class="- topic/p p">2. If there is a custom theme that contains a static content WAR and the
					<code class="+ topic/ph pr-d/codeph ph codeph">com.ibm.portal.resource.blacklist</code> and
					<code class="+ topic/ph pr-d/codeph ph codeph">com.ibm.portal.resource.whitelist</code> context parameters have not
				yet been added to the <span class="+ topic/ph sw-d/filepath ph filepath">web.xml</span> file, go to <a class="- topic/xref xref" href="https://support.hcltechsw.com/csm" target="_blank" rel="external noopener">HCL Software Support</a> page to fix security
				vulnerability. The changes associated with this can cause custom themes to produce a
				lot of warning messages in the logs resulting in a significant performance penalty.
				The custom theme must be redeployed before the changes will take effect. </p>
<p class="- topic/p p">3. If necessary, redeploy any customizations, including JSPs, to the WCM portlets (if using Web Content Manager), 
any other portlets, or any other Portal enterprise applications, if these were customized prior to installing the cumulative fix.
</p>
	<p class="- topic/p p">4. Go to <a class="- topic/xref xref" href="https://support.hcltechsw.com/csm" target="_blank" rel="external noopener">HCL Software Support</a> page to see if the Configuration Changes and Options 
introduced in the HCL Web Content Manager 8.5 Combined Cumulative Fixes apply to your environment. </p>
<p class="- topic/p p">5. If you modified the permissions on the <span class="+ topic/ph sw-d/filepath ph filepath">PortalServer</span> home directory tree
				to install the cumulative fix as non-root, restore the original permissions.</p>
<div class="- topic/p p">6. If using Web Content Manager and have installed any official extensions (such as the WCM
				Multilingual Solution (MLS) or WCM Social Media Publisher (SMP)), then run the
				following task to update them. <ul class="- topic/ul ul" id="new_cf__ul_awz_zbt_jpb" data-ofbid="new_cf__ul_awz_zbt_jpb">
					<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;/ConfigEngine/ConfigEngine.sh action-update-wcm-extensions -DWasPassword=&lt;password&gt; -DPortalAdminPwd=&lt;password&gt;</code></pre></li>
					<li class="- topic/li li">Windows:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;\ConfigEngine\ConfigEngine.bat action-update-wcm-extensions -DWasPassword=&lt;password&gt; -DPortalAdminPwd=&lt;password&gt;</code></pre></li>
					<li class="- topic/li li">IBM
						i:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&lt;profile_root&gt;/ConfigEngine/ConfigEngine.sh action-update-wcm-extensions -DWasPassword=&lt;password&gt; -DPortalAdminPwd=&lt;password&gt;</code></pre></li>
				</ul> The task can be run even if you are not sure if you had the extensions
				enabled. If you want to check if they were enabled the following tasks can be used: <ul class="- topic/ul ul">
					<li class="- topic/li li">for MLS use <code class="+ topic/ph pr-d/codeph ph codeph">ConfigEngine.sh|bat
						action-is-wcm-mls-enabled</code></li>
					<li class="- topic/li li">for SMP use <code class="+ topic/ph pr-d/codeph ph codeph">ConfigEngine.sh|bat
						action-is-wcm-smp-enabled</code></li>
				</ul></div>
<p class="- topic/p p">
7. If you have set up a remote search server or document conversion server for use with HCL Portal 8.5, then whenever you apply a cumulative fix to the portal server, you should 
also apply the corresponding cumulative fix to the remote server. Refer to the 
<a class="- topic/xref xref" href="../overview/ccf_95_remote_search.html">HCL Portal 8.5 Combined cumulative fix instructions: remote search</a> 
for the details of applying a cumulative fix to the remote server. </p>
<p class="- topic/p p">8. Clear the browser cache.</p>
	<p class="- topic/p p">9. Go to <a class="- topic/xref xref" href="https://support.hcltechsw.com/csm" target="_blank" rel="external noopener">HCL Software Support</a> page for Recommended Updates for HCL Portal and HCL Web Content Manager Version 8.5 to review and apply any recommended Fixes.</p>
<div class="- topic/p p">10. Prior to CF07, it was recommended to set the DB2 database configuration parameter
					<code class="+ topic/ph pr-d/codeph ph codeph">"dft_queryopt"</code> to a value of 2 as this was tested to provide
				the best balance of query optimization time and query execution time for the SQL
				produced by the JCR. For CF07 or later, this recommendation has been changed to use
				a value of 5 in conjunction with the testing and changes made to the JCR and JCR
				schema. This setting is NOT updated automatically within your JCR Database Domain
				configuration as part of the CF07 (or later) upgrade. This can be done manually by
				customers by executing the following SQL against the JCR Domain Database:
				<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>db2 update db cfg for JCRDBNAME using DFT_QUERYOPT 5</code></pre>
				OR It can also be done by running the following Config Engine Task:
				<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>configure-jcr-db2-dft-queryopt</code></pre></div>
</section>
<section class="- topic/section section" id="new_cf__rollback_cf_farm_85_dx" data-ofbid="new_cf__rollback_cf_farm_85_dx"><h2 class="- topic/title title sectiontitle">Steps for rolling back the cumulative fix</h2>

			<div class="- topic/note note note note_note"><span class="note__title">Note:</span> The steps in these sections for rolling back the cumulative fix describe how to
				roll back from a successful update to a previous level. However, rolling back from a
				failed update does not guarantee return to a dependable state. When an update fails,
				it is advised that you fix the cause of the failure and try again for a successful
				update; to return to a previous level, you must depend on a system and database
				backup and restore.</div>
			<div class="- topic/note note note note_note"><span class="note__title">Note:</span> Versions of Portal prior to CF12 do not support JDK 8. Therefore, if JDK 8 has
				been enabled in CF12 or later, the <code class="+ topic/ph pr-d/codeph ph codeph">managesdk</code> command must be used
				to switch back to JDK 7 or 7.1 before performing a rollback to CF11 or
				earlier.</div>
<div class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Limitations</strong>
				<ol class="- topic/ol ol">
					<li class="- topic/li li">Changing the server context root after upgrading is an unsupported rollback
						path. To roll back after changing the context root, you must first change
						the server context root to the values of the previous version.</li>
					<li class="- topic/li li">When rolling back a CF install, if you have configured an empty context root
						you cannot roll back to a CF level that does not support the empty context
						root capability. For instance, if you have applied CF08 and have configured
						an empty context root you cannot rollback to CF07. If you have applied CF09
						and have configured an empty context root you can roll back to CF08 but you
						would not be able to roll back if your previous CF level was CF07 or
						prior.</li>
					<li class="- topic/li li">Configuring HCL Portal from a stand-alone environment to a clustered
						environment after upgrading is an unsupported rollback path.</li>
				</ol></div>
<div class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Before you begin rollback </strong><ol class="- topic/ol ol">
					<li class="- topic/li li">The HCL Portal rollback scripts depend on the
							<code class="+ topic/ph pr-d/codeph ph codeph">wkplc.properties</code> being up to date and accurate,
						particularly with the password properties. If you are using multiple
						profiles, verify that the information in each profile is correct.</li>
					<li class="- topic/li li"> Edit the <span class="+ topic/ph sw-d/filepath ph filepath">&lt;wp_profile
							root&gt;/ConfigEngine/properties/wkplc.properties</span> file and
						ensure the following values are set correctly:
							<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>WasRemoteHostName=&lt;the hostname of your WAS instance&gt;
WasSoapPort=&lt;the soap port of your WAS instance&gt;
WasUserid=&lt;your WAS admin user&gt;
WasPassword=&lt;your WAS admin pwd&gt;
PortalAdminId=&lt;your Portal Admin ID&gt;
PortalAdminPwd=&lt;your Portal Admin password&gt;
WpsHostName=&lt;Your Portal hostname&gt;
WpsHostPort=&lt;The port you use to access Portal&gt;
WpsContextRoot=&lt;your Portal context root&gt;</code></pre><div class="- topic/note note note note_note"><span class="note__title">Note:</span> In
							a Farm Portal environment, the <code class="+ topic/ph pr-d/codeph ph codeph">WasRemoteHostName</code> should
							be the local hostname and the <code class="+ topic/ph pr-d/codeph ph codeph">WasSoapPort</code> should be the
							soap port of the HCL Portal server.</div></li>
					<li class="- topic/li li"> Edit the <span class="+ topic/ph sw-d/filepath ph filepath">&lt;wp_profile
							root&gt;/ConfigEngine/properties/wkplc_dbdomain.properties</span>
						file and ensure the following values are set correctly:
						<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>release.DbPassword=&lt;your database user password&gt;
community.DbPassword=&lt;your database user password&gt;
customization.DbPassword=&lt;your database user password&gt;
jcr.DbPassword=&lt;your database user password&gt;
likeminds.DbPassword=&lt;your database user password&gt;
feedback.DbPassword=&lt;your database user password&gt;</code></pre></li>
					<li class="- topic/li li"> Edit the <span class="+ topic/ph sw-d/filepath ph filepath">&lt;wp_profile
							root&gt;/ConfigEngine/properties/wkplc_comp.properties</span> file
						and ensure the following values are set correctly:
						<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>XmlAccessHost=&lt;your Portal hostname&gt; XmlAccessPort=&lt;the port you use to access Portal&gt; </code></pre></li>
				</ol></div>
<p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Unix, Linux, Windows, and IBM i </strong></p>
			<div class="- topic/p p">The update process removes plain text passwords from the
					<code class="+ topic/ph pr-d/codeph ph codeph">wkplc*.properties</code> files. To keep these passwords in the
				properties files, include the following line in the
					<code class="+ topic/ph pr-d/codeph ph codeph">wkplc.properties</code> file:
				<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>PWordDelete=false</code></pre></div>
<div class="- topic/p p"> There are several different methods to roll back the cumulative fix, and they are: <ul class="- topic/ul ul">
					<li class="- topic/li li">Use a Graphical User Interface (GUI) to roll back</li>
					<li class="- topic/li li">Use a command line roll back</li>
					<li class="- topic/li li">Use silent mode roll back</li>
					<li class="- topic/li li">Use console mode roll back</li>
				</ul></div>
<p class="- topic/p p"> Choose one method that is available for your system. Follow the detailed steps for that option,
				and then proceed with the <cite class="- topic/cite cite">Post Rollback Steps</cite>.</p>
			<p class="- topic/p p"> </p>
<div class="- topic/p p"><span class="+ topic/keyword ui-d/wintitle keyword wintitle">Use a Graphical User Interface to roll back (available on Windows, Linux, and Unix
operating systems)</span>
<ol class="- topic/ol ol">
<li class="- topic/li li">If you are running an external web server, stop the web server.</li>
<li class="- topic/li li">Stop any active application servers and node agents by using the <code class="+ topic/ph pr-d/codeph ph codeph">stopServer</code> and
							<code class="+ topic/ph pr-d/codeph ph codeph">stopNode</code> commands. To see which application servers are
						active, use the <code class="+ topic/ph pr-d/codeph ph codeph">serverStatus</code> command from the
							<span class="+ topic/ph sw-d/filepath ph filepath">&lt;wp_profile&gt;/bin</span> directory and again from the
							<span class="+ topic/ph sw-d/filepath ph filepath">&lt;cw_profile&gt;/bin</span> directory. If the Deployment
						Manager is installed on the same server as one of the cluster nodes, you
						must also stop the Deployment Manager using the <code class="+ topic/ph pr-d/codeph ph codeph">stopManager</code>
						command from the <span class="+ topic/ph sw-d/filepath ph filepath">&lt;dmgr&gt;/bin</span> directory. <ul class="- topic/ul ul" id="new_cf__ul_knh_xdt_jpb" data-ofbid="new_cf__ul_knh_xdt_jpb">
							<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./serverStatus.sh -all</code></pre></li>
							<li class="- topic/li li">Windows:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>serverStatus.bat -all </code></pre></li>
						</ul></li>
<li class="- topic/li li">Launch the IBM Installation Manager that was used to install HCL Portal Version 8.5.</li>
<li class="- topic/li li">Select "Roll Back" on the Installation Manager main window and follow the prompts to roll HCL
Portal back to the desired level.</li>
<li class="- topic/li li">After rollback completes, proceed with the <cite class="- topic/cite cite">Post Rollback Steps</cite>.</li>
</ol>
</div>
<div class="- topic/p p"><span class="+ topic/keyword ui-d/wintitle keyword wintitle">Use a command line to roll back (available on Windows, Linux, and Unix operating
systems)</span>
<ol class="- topic/ol ol">
<li class="- topic/li li">If you are running an external web server, stop the web server.</li>
<li class="- topic/li li">Stop any active application servers and node agents by using the <code class="+ topic/ph pr-d/codeph ph codeph">stopServer</code> and
							<code class="+ topic/ph pr-d/codeph ph codeph">stopNode</code> commands. To see which application servers are
						active, use the <code class="+ topic/ph pr-d/codeph ph codeph">serverStatus</code> command from the
							<span class="+ topic/ph sw-d/filepath ph filepath">&lt;wp_profile&gt;/bin</span> directory and again from the
							<span class="+ topic/ph sw-d/filepath ph filepath">&lt;cw_profile&gt;/bin</span> directory. If the Deployment
						Manager is installed on the same server as one of the cluster nodes, you
						must also stop the Deployment Manager using the <code class="+ topic/ph pr-d/codeph ph codeph">stopManager</code>
						command from the <span class="+ topic/ph sw-d/filepath ph filepath">&lt;dmgr&gt;/bin</span> directory. <ul class="- topic/ul ul" id="new_cf__ul_nqb_c2t_jpb" data-ofbid="new_cf__ul_nqb_c2t_jpb">
							<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./serverStatus.sh -all</code></pre></li>
							<li class="- topic/li li">Windows:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>serverStatus.bat -all </code></pre></li>
						</ul></li>
<li class="- topic/li li">Open a command window and switch to the <span class="+ topic/ph sw-d/filepath ph filepath">eclipse/tools</span> sub-directory of
						Installation Manager. By default, this is: <ul class="- topic/ul ul" id="new_cf__ul_cx5_22t_jpb" data-ofbid="new_cf__ul_cx5_22t_jpb">
							<li class="- topic/li li">Unix/Linux:
									<span class="+ topic/ph sw-d/filepath ph filepath">/opt/IBM/InstallationManager/eclipse/tools</span></li>
							<li class="- topic/li li">Windows: <span class="+ topic/ph sw-d/filepath ph filepath">C:\Program Files\IBM\Installation
									Manager\eclipse\tools</span></li>
						</ul></li>
<li class="- topic/li li">Run the following command to launch the installation program of IBM Installation Manager. The
						commands are shown here on multiple lines for clarity, but the entire
						command must be entered on one line. Include quotation marks around file
						paths that include spaces. <ul class="- topic/ul ul" id="new_cf__ul_svk_h2t_jpb" data-ofbid="new_cf__ul_svk_h2t_jpb">
							<li class="- topic/li li">For Unix/Linux:
								<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./imcl rollback com.ibm.websphere.PORTAL.SERVER.v85 
	-installationDirectory &lt;portal_server_root&gt;</code></pre></li>
							<li class="- topic/li li"> Windows:
								<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>imcl.exe rollback com.ibm.websphere.PORTAL.SERVER.v85
	-installationDirectory &lt;portal_server_root&gt;</code></pre></li>
						</ul></li>
<li class="- topic/li li">After roll back completes, proceed with the <cite class="- topic/cite cite">Post Rollback Steps</cite>.</li>
</ol>
</div>
<div class="- topic/p p"><span class="+ topic/keyword ui-d/wintitle keyword wintitle">Use silent mode to roll back (available on Windows, Linux, Unix, and IBM i operating
systems)</span>
<ol class="- topic/ol ol">
<li class="- topic/li li">If you are running an external web server, stop the web server.</li>
<li class="- topic/li li">Stop any active application servers and node agents by using the <code class="+ topic/ph pr-d/codeph ph codeph">stopServer</code> and
							<code class="+ topic/ph pr-d/codeph ph codeph">stopNode</code> commands. To see which application servers are
						active, use the <code class="+ topic/ph pr-d/codeph ph codeph">serverStatus</code> command from the
							<span class="+ topic/ph sw-d/filepath ph filepath">&lt;wp_profile&gt;/bin</span> directory and again from the
							<span class="+ topic/ph sw-d/filepath ph filepath">&lt;cw_profile&gt;/bin</span> directory. If the Deployment
						Manager is installed on the same server as one of the cluster nodes, you
						must also stop the Deployment Manager using the <code class="+ topic/ph pr-d/codeph ph codeph">stopManager</code>
						command from the <span class="+ topic/ph sw-d/filepath ph filepath">&lt;dmgr&gt;/bin</span> directory. <ul class="- topic/ul ul" id="new_cf__ul_qk4_k2t_jpb" data-ofbid="new_cf__ul_qk4_k2t_jpb">
							<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./serverStatus.sh -all</code></pre></li>
							<li class="- topic/li li">Windows:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>serverStatus.bat -all</code></pre></li>
							<li class="- topic/li li">IBM i:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>serverStatus -all</code></pre></li>
						</ul></li>
<li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">For IBM i only</strong>: Run the following command from qshell:
						<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>chown QEJBSVR /QIBM/UserData/WebSphere/AppServer/V85/ND/profiles/cw_profile/ConfigEngine/properties/wkplc.properties</code></pre></li>
<li class="- topic/li li">Open a command window and switch to the <span class="+ topic/ph sw-d/filepath ph filepath">eclipse/tools</span> sub-directory of
						Installation Manager. By default, this is: <ul class="- topic/ul ul" id="new_cf__ul_dz5_p2t_jpb" data-ofbid="new_cf__ul_dz5_p2t_jpb">
							<li class="- topic/li li">Unix/Linux:
									<span class="+ topic/ph sw-d/filepath ph filepath">/opt/IBM/InstallationManager/eclipse/tools</span></li>
							<li class="- topic/li li">Windows: <span class="+ topic/ph sw-d/filepath ph filepath">C:\Program Files\IBM\Installation
									Manager\eclipse\tools</span></li>
							<li class="- topic/li li">IBM i:
									<span class="+ topic/ph sw-d/filepath ph filepath">/QIBM/ProdData/InstallationManager/eclipse/tools</span></li>
						</ul></li>
<li class="- topic/li li"> Update the sample response file that is packaged with your cumulative fix level according to
the comments in the file.</li>
<li class="- topic/li li">Run the following command to roll back in silent mode:
						<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>imcl -input &lt;Full_path_to_your_response_file&gt; -log &lt;Full_Path_to_a_log_file&gt; -showProgress</code></pre></li>
<li class="- topic/li li"> After roll back completes, proceed with the <cite class="- topic/cite cite">Post Rollback Steps</cite>.</li>
</ol>
</div>
<div class="- topic/p p"><span class="+ topic/keyword ui-d/wintitle keyword wintitle">Use Console Mode to roll back (available on Windows, Linux, Unix and IBM i operating
					systems)</span>
				<ol class="- topic/ol ol">
					<li class="- topic/li li">If you are running an external web server, stop the web server.</li>
					<li class="- topic/li li">Stop any active application servers and node agents by using the
							<code class="+ topic/ph pr-d/codeph ph codeph">stopServer</code> and <code class="+ topic/ph pr-d/codeph ph codeph">stopNode</code> commands. To
						see which application servers are active, use the
							<code class="+ topic/ph pr-d/codeph ph codeph">serverStatus</code> command from the
							<span class="+ topic/ph sw-d/filepath ph filepath">&lt;wp_profile&gt;/bin</span> directory and again from the
							<span class="+ topic/ph sw-d/filepath ph filepath">&lt;cw_profile&gt;/bin</span> directory. If the Deployment
						Manager is installed on the same server as one of the cluster nodes, you
						must also stop the Deployment Manager using the <code class="+ topic/ph pr-d/codeph ph codeph">stopManager</code>
						command from the <span class="+ topic/ph sw-d/filepath ph filepath">&lt;dmgr&gt;/bin</span> directory. <ul class="- topic/ul ul" id="new_cf__ul_glc_52t_jpb" data-ofbid="new_cf__ul_glc_52t_jpb">
							<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./serverStatus.sh -all</code></pre></li>
							<li class="- topic/li li">Windows:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>serverStatus.bat -all</code></pre></li>
							<li class="- topic/li li">IBM i:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>serverStatus -all</code></pre></li>
						</ul></li>
					<li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">For IBM i only</strong>: Run the following command from qshell:
						<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>chown QEJBSVR /QIBM/UserData/WebSphere/AppServer/V85/ND/profiles/cw_profile/ConfigEngine/properties/wkplc.properties</code></pre></li>
					<li class="- topic/li li"> Open a command window and switch to the eclipse/tools sub-directory of
						Installation Manager. By default, this is: <ul class="- topic/ul ul" id="new_cf__ul_jfh_y2t_jpb" data-ofbid="new_cf__ul_jfh_y2t_jpb">
							<li class="- topic/li li">Unix/Linux:
									<span class="+ topic/ph sw-d/filepath ph filepath">/opt/IBM/InstallationManager/eclipse/tools</span></li>
							<li class="- topic/li li">Windows: <span class="+ topic/ph sw-d/filepath ph filepath">C:\Program Files\IBM\Installation
									Manager\eclipse\tools</span></li>
							<li class="- topic/li li">IBM i:
									<span class="+ topic/ph sw-d/filepath ph filepath">/QIBM/ProdData/InstallationManager/eclipse/tools</span>
							</li>
						</ul></li>
					<li class="- topic/li li"> Run the command to start the IBM Installation Manager in console mode. <ul class="- topic/ul ul" id="new_cf__ul_k3g_bft_jpb" data-ofbid="new_cf__ul_k3g_bft_jpb">
							<li class="- topic/li li">For Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./imcl  -c</code></pre></li>
							<li class="- topic/li li">Windows:
								<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>imcl.exe -c</code></pre></li>
							<li class="- topic/li li">IBM i: <pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>./imcl  -c</code></pre></li>
						</ul></li>
					<li class="- topic/li li"> Select Roll back and follow the prompts to roll back HCL Portal.</li>
					<li class="- topic/li li">After installation completes, proceed with the <cite class="- topic/cite cite">Post Rollback
							Steps</cite>.</li>
				</ol></div></section>
<section class="- topic/section section" id="new_cf__post_rollback_steps_cf_farm_85" data-ofbid="new_cf__post_rollback_steps_cf_farm_85"><h2 class="- topic/title title sectiontitle">Post Rollback Steps</h2>

<p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Linux, Unix, Windows or IBM i </strong></p>
			<div class="- topic/p p">Use the following commands to roll back all profiles. These steps must be repeated
				for each profile, if multiple profiles exist. All cluster members and all profiles
				that share the same Portal installation directory (multiple profile option) must be
				updated to the same level to complete the CF installation.<div class="- topic/note note note note_note"><span class="note__title">Note:</span> The following
					configuration steps should be run as the user who normally administers the
					Portal Server, which may or may not be the same user who runs the installation
					program.</div><div class="- topic/note note note note_note"><span class="note__title">Note:</span> If a remote search server is used within this environment,
					it should be started before running the following commands.</div></div>
<div class="- topic/p p"><ol class="- topic/ol ol">
<li class="- topic/li li">On the Farm Master Server execute the following command from within the path of the profile to
						configure. Note: If you are rolling back the CF on an empty portal then many
						of the expected artifacts will not exist and the <code class="+ topic/ph pr-d/codeph ph codeph">rollbackCF</code>
						command will fail. In this case you must define the "isEmptyPortal" property
						on the command line. Example:
							<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>rollbackCF.sh -DisEmptyPortal=true</code></pre><ul class="- topic/ul ul" id="new_cf__ul_hy1_2dt_jpb" data-ofbid="new_cf__ul_hy1_2dt_jpb">
							<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>(profile_root/PortalServer/bin/rollbackCF.sh -DPortalAdminPwd=(password) -DWasPassword=(password)</code></pre></li>
							<li class="- topic/li li">Windows:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>(profile_root)\PortalServer\bin\rollbackCF.bat -DPortalAdminPwd=(password) -DWasPassword=(password)</code></pre></li>
							<li class="- topic/li li">IBM
								i:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>(profile_root)/PortalServer/bin/rollbackCF.sh -DPortalAdminPwd=(password) -DWasPassword=(password)</code></pre></li>
						</ul><strong class="+ topic/ph hi-d/b ph b">Important</strong>: If the rollbackCF command fails for any reason, check
						the error logs and correct error conditions, then stop HCL Digital
						Experience before re-running. </li>
<li class="- topic/li li">On the Farm Support Server execute the following command from within the path of the profile to
						configure. Note: If you are rolling back the CF on an empty portal then many
						of the expected artifacts will not exist and the <code class="+ topic/ph pr-d/codeph ph codeph">rollbackCF</code>
						command will fail. In this case you must define the "isEmptyPortal" property
						on the command line. Example:
							<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>rollbackCF.sh -DisEmptyPortal=true </code></pre><div class="- topic/note note note note_note"><span class="note__title">Note:</span> If
							the Farm Support Server only has read-only access to the Portal Binaries
							use the <code class="+ topic/ph pr-d/codeph ph codeph">-DSharedBinaries=true</code> flag with the rollbackCF
							command. </div><ul class="- topic/ul ul" id="new_cf__ul_hrn_zct_jpb" data-ofbid="new_cf__ul_hrn_zct_jpb">
							<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>(profile_root)/PortalServer/bin/rollbackCF.sh -DPortalAdminPwd=(password) -DWasPassword=(password)</code></pre></li>
							<li class="- topic/li li">Windows:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>(profile_root)\PortalServer\bin\rollbackCF.bat -DPortalAdminPwd=(password) -DWasPassword=(password)</code></pre></li>
							<li class="- topic/li li">IBM
								i:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>(profile_root)/PortalServer/bin/rollbackCF.sh -DPortalAdminPwd=(password) -DWasPassword=(password)</code></pre></li>
						</ul><strong class="+ topic/ph hi-d/b ph b">Important</strong>: If the rollbackCF command fails for any reason, check
						the error logs and correct error conditions, then stop HCL Digital
						Experience before re-running. </li>
<li class="- topic/li li">3. If you are running an external web server, and you are using the WebSphere Application Server
						automatic generation and propagation of the plug-in, then restart the web
						server. If you are not using the automatic generation and propagation, then
						perform the following steps: <ol class="- topic/ol ol" type="a" id="new_cf__ol_h5x_vct_jpb" data-ofbid="new_cf__ol_h5x_vct_jpb">
							<li class="- topic/li li">Regenerate the web server plugin.</li>
							<li class="- topic/li li">Copy the <span class="+ topic/ph sw-d/filepath ph filepath">plugin-cfg.xml</span> file to the plugin
								directory. </li>
							<li class="- topic/li li">Restart the web server. </li>
						</ol></li>
<li class="- topic/li li">If you previously customized any configuration files in the <span class="+ topic/ph sw-d/filepath ph filepath">wp_profile_root/PortalServer/config</span> 
directory, check to see if rolling back the cumulative fix affected those files by restoring a version of the files that was saved 
when the cumulative fix was originally installed. If it did affect the files, you must perform the same customization on the 
restored version of each file.</li>
<li class="- topic/li li">If necessary, redeploy any customizations, including JSPs, to the WCM portlets (if using HCL Web Content Manager), any other 
portlets, or any other Portal enterprise applications, if these were customized prior to rolling back the cumulative fix.</li>
<li class="- topic/li li">If using HCL Web Content Manager and have installed any official extensions (such as the WCM
						Multilingual Solution (MLS) or WCM Social Media Publisher (SMP)), then run
						the following task to update them. <ul class="- topic/ul ul" id="new_cf__ul_ijt_rct_jpb" data-ofbid="new_cf__ul_ijt_rct_jpb">
							<li class="- topic/li li">Unix/Linux:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>(profile_root)/ConfigEngine/ConfigEngine.sh action-update-wcm-extensions -DWasPassword=(password) -DPortalAdminPwd=(password)</code></pre></li>
							<li class="- topic/li li">Windows:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>(profile_root)\ConfigEngine\ConfigEngine.bat action-update-wcm-extensions -DWasPassword=(password) -DPortalAdminPwd=(password)</code></pre></li>
							<li class="- topic/li li">IBM
								i:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>(profile_root)/ConfigEngine/ConfigEngine.sh action-update-wcm-extensions -DWasPassword=(password) -DPortalAdminPwd=(password)</code></pre></li>
						</ul> The task can be run even if you are not sure if you had the extensions
						enabled. If you want to check if they were enabled the following tasks can
						be used: <ul class="- topic/ul ul" id="new_cf__ul_ykf_pct_jpb" data-ofbid="new_cf__ul_ykf_pct_jpb">
							<li class="- topic/li li">for MLS use <code class="+ topic/ph pr-d/codeph ph codeph">ConfigEngine.sh|bat
									action-is-wcm-mls-enabled</code></li>
							<li class="- topic/li li">for SMP use <code class="+ topic/ph pr-d/codeph ph codeph">ConfigEngine.sh|bat
									action-is-wcm-smp-enabled</code></li>
						</ul></li>
<li class="- topic/li li">For rollback to CF03 or earlier level only: If the Brightcove integration was enabled, remove the old Brightcove plugins, 
then configure HCL Portal to add the new Brightcove plugins.</li>
<li class="- topic/li li">For rollback to CF03 or earlier level only: If using Rich Media Edition, remove the Rich Media Edition plugin, restart the 
Portal Server, then configure HCL Portal to add the Rich Media Edition plugins.</li>
<li class="- topic/li li">If you have set up a remote search server or document conversion server for use with HCL Portal 8.5, then whenever you 
roll back a cumulative fix to the portal server, you should also roll back the corresponding cumulative fix to the remote server.</li>
<li class="- topic/li li">Clear the browser cache. </li>
</ol>
</div>
</section>
</div>
	</article></main></div>
                        
                        
                        
                        
                        
                        
                        
                    </div>
                    
                        
                        <nav role="navigation" id="wh_topic_toc" aria-label="On this page" class="col-lg-2 d-none d-lg-block navbar d-print-none"> 
                            <div class=" wh_topic_toc "><div class="wh_topic_label">On this page</div><ul><li class="section-item"><div class="section-title"><a href="#new_cf__about_CCF85_90" data-tocid="new_cf__about_CCF85_90">About HCL Portal 8.5 and 9.0 Combined Cumulative Fixes</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__overview_cf_farm_85" data-tocid="new_cf__overview_cf_farm_85">Overview</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__section_k5y_gbv_hnb" data-tocid="new_cf__section_k5y_gbv_hnb">Before you begin</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__section_url_3bv_hnb" data-tocid="new_cf__section_url_3bv_hnb">Space Requirements</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__best_practices_cf_farm_85" data-tocid="new_cf__best_practices_cf_farm_85">Best Practices</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__syndicator_subscriber_cf_farm_85" data-tocid="new_cf__syndicator_subscriber_cf_farm_85">Syndicator/Subscriber Information</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__search_crawler_information_85_cf_farm" data-tocid="new_cf__search_crawler_information_85_cf_farm">Search Crawler Information</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__backing_up_installation_manager_data" data-tocid="new_cf__backing_up_installation_manager_data">Backing up the Installation Manager data</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__known_issues_cf_farm_85" data-tocid="new_cf__known_issues_cf_farm_85">Known Issues</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__check_fixes_installed_system_cf_farm_85" data-tocid="new_cf__check_fixes_installed_system_cf_farm_85">Check fixes installed on your system</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__ensure_wkplc_properties_cf_farm_85" data-tocid="new_cf__ensure_wkplc_properties_cf_farm_85">Ensure <code class="+ topic/ph pr-d/codeph ph codeph">wkplc</code> properties files are correct</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__unix_linux_windows_ibmi_cf_farm_85" data-tocid="new_cf__unix_linux_windows_ibmi_cf_farm_85">Unix, Linux, Windows, and IBM i:</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__multiple_profile_considerations_cf_farm_85" data-tocid="new_cf__multiple_profile_considerations_cf_farm_85">Multiple profile considerations</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__non_root_considerations_cf_farm_85" data-tocid="new_cf__non_root_considerations_cf_farm_85">Non-root considerations</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__antivirus_file_indexing_windows_cf_farm_85" data-tocid="new_cf__antivirus_file_indexing_windows_cf_farm_85">Anti-virus and file indexing software considerations (Windows only)</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__special_note_was_85514" data-tocid="new_cf__special_note_was_85514">Special note for customers using WAS 8.5.5.14</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__download_cf_farm_85_hcl_dx" data-tocid="new_cf__download_cf_farm_85_hcl_dx">Download the cumulative fix</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__steps_installing_cf_farm_85" data-tocid="new_cf__steps_installing_cf_farm_85">Steps for installing the cumulative fix</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__use_gui_cf_farm_85" data-tocid="new_cf__use_gui_cf_farm_85">Use a Graphical User Interface (available on Windows, Linux, and Unix operating systems)</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__live_repo_GUI_cf_farm" data-tocid="new_cf__live_repo_GUI_cf_farm">Use a live repository via the Graphical User Interface
(available on Windows, Linux, and Unix operating systems for CFs prior to CF17)</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__command_line_cf_farm_85" data-tocid="new_cf__command_line_cf_farm_85">Use a command line (available on Windows, Linux, and Unix operating systems)</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__use_silent_mode_cf_farm_85" data-tocid="new_cf__use_silent_mode_cf_farm_85">Use silent
mode installation (available on Windows, Linux, Unix, and IBM i operating systems)</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__use_console_mode_cf_farm_85" data-tocid="new_cf__use_console_mode_cf_farm_85">Use Console
Mode Interface (available on Windows, Linux, Unix and IBM i operating systems)</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__additional_config_cf_farm_85" data-tocid="new_cf__additional_config_cf_farm_85">Additional configuration steps </a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__section_qsm_k1t_jpb" data-tocid="new_cf__section_qsm_k1t_jpb">On the Farm Master Server</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__section_nyl_q1t_jpb" data-tocid="new_cf__section_nyl_q1t_jpb">Special Consideration for empty portals</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__section_xg4_dbt_jpb" data-tocid="new_cf__section_xg4_dbt_jpb">Farm Support Server setup</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__section_xfm_lbt_jpb" data-tocid="new_cf__section_xfm_lbt_jpb">Special Consideration for empty portals</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__post_installation_steps_cf_farm_85" data-tocid="new_cf__post_installation_steps_cf_farm_85">Post installation steps</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__rollback_cf_farm_85_dx" data-tocid="new_cf__rollback_cf_farm_85_dx">Steps for rolling back the cumulative fix</a></div></li><li class="section-item"><div class="section-title"><a href="#new_cf__post_rollback_steps_cf_farm_85" data-tocid="new_cf__post_rollback_steps_cf_farm_85">Post Rollback Steps</a></div></li></ul></div>
                        </nav>
                        
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer" whc:version="23.1">
  <div class=" footer-container mx-auto ">
    
            Generated by <a class="oxyFooter" href="http://www.oxygenxml.com/xml_webhelp.html" target="_blank">
            &lt;oXygen/&gt; XML WebHelp
            </a>
        
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <!-- The modal container for images -->
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <!-- Modal Content (The Image) -->
            <img class="modal-content" id="modal-img" alt=""/>
            <!-- Modal Caption (Image Text) -->
            <div id="caption"></div>
        </div>
        
        
        
    </body>
</html>